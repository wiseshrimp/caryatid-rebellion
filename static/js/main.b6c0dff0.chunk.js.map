{"version":3,"sources":["components/Landing.js","constants/constants.js","components/Placard.js","components/Sprite.js","components/Still.js","components/Buttons.js","constants/text.js","constants/utils.js","components/Popup.js","components/Stage.js","utils/utils.js","reportWebVitals.js","index.js"],"names":["Landing","props","create","load","createContainer","createTitle","createInstructions","add","addEventListener","window","resize","componentDidUpdate","prevProps","hasAddedToStage","state","stage","hasScrolled","loadedPercentage","setState","addClickInstructions","addLoading","addChild","container","addArrow","width","canvas","arrowEl","setTransform","height","image","arrowY","animateArrow","arrowHeight","fontSize","y","text","createjs","Text","set","x","font","lineWidth","textAlign","scaleX","removeChild","fill","bar","Tween","get","override","to","arrowTween","call","Container","setBounds","hasLoaded","createLoadingBar","scale","Shape","graphics","setStrokeStyle","beginStroke","drawRoundRectComplex","endStroke","beginLinearGradientFill","textContainer","handleLoad","data","Bitmap","target","Image","src","onload","removeLoading","removeAllTweens","React","Component","SPRITE_SHEETS","id","STILLS","PLACARDS","after","idx","MARGIN","TOTAL_ASSETS","length","Placard","transform","spriteEl","play","sprite","Sprite","result","loader","LoadQueue","manifest","type","crossOrigin","loadManifest","on","margin","w","h","rectWidth","toResize","isScreenSmall","cardHeight","yOffset","forEach","placard","i","split","Number","this","stop","addEventListeners","onClick","calculateYOffset","checkBounds","currentSprite","isHeightBiggerThanScreen","isPlaying","hasPlayed","queue","popup","check","currentFrame","spriteSheet","_frames","Ticker","removeEventListener","item","ev","force","gotoAndPlay","setCurrentSprite","scaleY","Still","debounce","func","timeout","wait","args","clearTimeout","setTimeout","apply","stillEl","Buttons","onButtonClick","setPopup","className","showButtons","TEXT","audrey","header","html","d","Date","day","getDay","hr","getHours","min","getMinutes","ampm","date","getDate","getMonth","getFullYear","doris","hettie","about","video","Popup","close","renderClose","renderText","__html","which","dangerouslySetInnerHTML","Stage","componentWillUnmount","document","scroll","clearInterval","changeHue","navigator","maxTouchPoints","msMaxTouchPoints","getElementById","onMouseUp","onMouseDown","onScroll","calculateLowerBound","numOfSprites","numOfPlacards","lowerBound","assetTransform","sprites","placards","changeBackground","hue","setInterval","col1","Math","abs","col2","body","style","background","draw","update","exitPopup","console","log","isTouchDevice","onLoad","loadedElements","mouseY","touches","pageY","touchStartTimestamp","timeStamp","touchStartPosition","onMouseMove","touchDirection","touchEndPosition","touchEndTimestamp","eventLength","pathLength","velocityScroll","offsetHeight","newScroll","Ease","sineOut","deltaY","innerHeight","areButtonsShowing","spriteTransform","Object","assign","setup","snapToPixelEnabled","snapToPixel","ctx","getContext","webkitImageSmoothingEnabled","mozImageSmoothingEnabled","imageSmoothingEnabled","Touch","enable","timingMode","RAF_SYNCHED","framerate","maintainScriptOrder","enableMouseOver","renderLanding","renderPlacard","renderPopup","renderSprite","loaded","renderStill","currentPos","innerWidth","map","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode"],"mappings":"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AASW,MAAM2B,kBACf,EAAKtE,kBACL,EAAKC,cACL,EAAKC,qBACL,EAAKiB,WACL,EAAKhB,OA7ML,EAAKO,MAAQ,CACTD,iBAAiB,GAHN,E,0CAkNnB,WACI,OAAO,S,GApNsB8D,IAAMC,WCFrCC,EAAgB,CAClB,CACIC,GAAI,SACJP,IAAK,8BAET,CACIO,GAAI,SACJP,IAAK,8BAET,CACIO,GAAI,SACJP,IAAK,8BAET,CACIO,GAAI,SACJP,IAAK,8BAET,CACIO,GAAI,SACJP,IAAK,8BAET,CACIO,GAAI,SACJP,IAAK,8BAET,CACIO,GAAI,SACJP,IAAK,8BAET,CACIO,GAAI,SACJP,IAAK,8BAET,CACIO,GAAI,UACJP,IAAK,gCAET,CACIO,GAAI,UACJP,IAAK,gCAET,CACIO,GAAI,UACJP,IAAK,gCAET,CACIO,GAAI,UACJP,IAAK,gCAET,CACIO,GAAI,UACJP,IAAK,gCAET,CACIO,GAAI,UACJP,IAAK,gCAET,CACIO,GAAI,UACJP,IAAK,gCAET,CACIO,GAAI,UACJP,IAAK,gCAET,CACIO,GAAI,UACJP,IAAK,gCAET,CACIO,GAAI,UACJP,IAAK,gCAET,CACIO,GAAI,UACJP,IAAK,gCAET,CACIO,GAAI,UACJP,IAAK,gCAET,CACIO,GAAI,UACJP,IAAK,gCAET,CACIO,GAAI,UACJP,IAAK,gCAET,CACIO,GAAI,UACJP,IAAK,gCAET,CACIO,GAAI,UACJP,IAAK,gCAET,CACIO,GAAI,UACJP,IAAK,gCAET,CACIO,GAAI,UACJP,IAAK,gCAET,CACIO,GAAI,UACJP,IAAK,gCAET,CACIO,GAAI,UACJP,IAAK,gCAET,CACIO,GAAI,UACJP,IAAK,gCAET,CACIO,GAAI,UACJP,IAAK,iCASPQ,EAAS,CACX,CACID,GAAI,SACJP,IAAK,uBAET,CACIO,GAAI,UACJP,IAAK,wBAET,CACIO,GAAI,UACJP,IAAK,wBAET,CACIO,GAAI,UACJP,IAAK,wBAET,CACIO,GAAI,UACJP,IAAK,wBAET,CACIO,GAAI,UACJP,IAAK,wBAET,CACIO,GAAI,UACJP,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","file":"static/js/main.b6c0dff0.chunk.js","sourcesContent":["import React from 'react'\r\nimport createjs from 'createjs-module'\r\n\r\nexport default class Landing extends React.Component {\r\n    constructor(props) {\r\n        super(props)\r\n        this.state = {\r\n            hasAddedToStage: false\r\n        }\r\n    }\r\n\r\n    create = () => {\r\n        this.load()\r\n        this.createContainer()\r\n        this.createTitle()\r\n        this.createInstructions()\r\n        this.add()\r\n        this.addEventListener()\r\n    }\r\n\r\n    addEventListener = () => {\r\n        window.addEventListener('resize', this.resize)\r\n    }\r\n\r\n    componentDidUpdate = prevProps => {\r\n        const { hasAddedToStage } = this.state\r\n        const { stage, hasScrolled, loadedPercentage } = this.props\r\n        if (stage && !hasAddedToStage) {\r\n            this.create()\r\n            this.setState({\r\n                hasAddedToStage: true\r\n            })\r\n        }\r\n        if (!prevProps.hasScrolled && hasScrolled) {\r\n            this.addClickInstructions()\r\n        }\r\n        if (loadedPercentage !== prevProps.loadedPercentage) {\r\n            this.addLoading()\r\n        }\r\n    }\r\n\r\n    add = () => {\r\n        const { stage } = this.props\r\n\r\n        stage.addChild(this.container)\r\n    }\r\n\r\n    addArrow = () => {\r\n        const { stage } = this.props\r\n        let width = stage.canvas.width / 15\r\n        this.arrowEl.setTransform(\r\n            stage.canvas.width / 2 - width / 2, \r\n            stage.canvas.height / 4 + stage.canvas.height / 2 + 10,\r\n            width / this.arrowEl.image.width,\r\n            width / this.arrowEl.image.width\r\n        )\r\n\r\n        this.arrowY = stage.canvas.height / 4 + stage.canvas.height / 2 + 10\r\n        this.container.addChild(this.arrowEl)\r\n        this.animateArrow()\r\n    }\r\n\r\n    addClickInstructions = () => {\r\n        const { stage } = this.props\r\n        let arrowHeight = stage.canvas.width / 15 + 10\r\n        let fontSize = stage.canvas.height / 20\r\n        let y = stage.canvas.height / 4 + stage.canvas.height / 2 + 20 + arrowHeight\r\n        let text = new createjs.Text().set({\r\n            text: 'CLICK TO REPLAY COMICS',\r\n            x: 0,\r\n            y,\r\n            font: `${fontSize}px custard, sans-serif`,\r\n            lineWidth: stage.canvas.width - 30\r\n        })\r\n        this.container.addChild(text)\r\n        text.x = stage.canvas.width / 2\r\n        text.textAlign = 'center'\r\n    }\r\n\r\n    addLoading = () => {\r\n        const { loadedPercentage } = this.props\r\n\r\n        let scaleX = loadedPercentage\r\n        if (scaleX >= 1) {\r\n            this.container.removeChild(this.fill)\r\n            this.container.removeChild(this.bar)\r\n            return\r\n        }\r\n\r\n        createjs.Tween\r\n            .get(this.fill, {override: true})\r\n            .to({\r\n                scaleX\r\n            }, 150)\r\n    }\r\n\r\n    animateArrow = () => {\r\n        this.arrowTween = createjs.Tween\r\n            .get(this.arrowEl)\r\n            .to({\r\n                y: this.arrowY - 10\r\n            }, 500)\r\n            .to({\r\n                y: this.arrowY + 10\r\n            }, 500)\r\n            .call(() => {\r\n                this.animateArrow()\r\n        })\r\n    }\r\n\r\n    createContainer = () => {\r\n        const { stage } = this.props\r\n\r\n        let container = new createjs.Container()\r\n        this.container = container\r\n        container.setBounds(0, 0, stage.canvas.width, stage.canvas.height)\r\n        if (!this.props.hasLoaded) {\r\n            let {bar, fill} = this.createLoadingBar()\r\n            container.addChild(bar)\r\n            container.addChild(fill)\r\n            this.fill = fill\r\n            this.bar = bar\r\n        }\r\n        this.setState({\r\n            scale: {x: stage.canvas.width, y: stage.canvas.height}\r\n        })\r\n    }\r\n\r\n    createInstructions = () => {\r\n        const { stage } = this.props\r\n\r\n        let fontSize = stage.canvas.height / 20\r\n        let text = new createjs.Text().set({\r\n            text: 'SCROLL',\r\n            x: 0,\r\n            y: stage.canvas.height / 5 + stage.canvas.height / 2,\r\n            font: `${fontSize}px custard, sans-serif`,\r\n            lineWidth: stage.canvas.width - 30\r\n        })\r\n        text.x = stage.canvas.width / 2\r\n        text.textAlign = 'center'\r\n        this.container.addChild(text)\r\n    }\r\n\r\n    createLoadingBar = () => {\r\n        const { stage } = this.props\r\n\r\n        let bar = new createjs.Shape()\r\n        let width = stage.canvas.width / 4\r\n        let y = stage.canvas.height / 2\r\n        bar.graphics.setStrokeStyle(3)\r\n            .beginStroke('black')\r\n            .drawRoundRectComplex((stage.canvas.width - width) / 2, y, width, 30, 5, 5, 5, 5)\r\n            .endStroke()\r\n\r\n        let fill = new createjs.Shape()\r\n            .set({\r\n                scaleX: 0,\r\n                x: (stage.canvas.width - width) / 2 + 1.5,\r\n                y: y + 1.5\r\n            })\r\n        fill.graphics\r\n            .beginLinearGradientFill([\"#4158D0\",\"#C850C0\", \"#FFCC70\"],  [0, .46, 1], 0, 100, 200, 300)\r\n            .drawRoundRectComplex(0, 0, width - 3, 27, 5, 5, 5, 5)\r\n\r\n        return {bar, fill}\r\n    }\r\n\r\n    createTitle = () => {\r\n        const { stage } = this.props\r\n\r\n        let textContainer = new createjs.Container()\r\n        let fontSize = stage.canvas.height / 10\r\n        let text = new createjs.Text().set({\r\n            text: 'THE CARYATID REVOLUTION',\r\n            x: 0,\r\n            y: 0,\r\n            font: `${fontSize}px custard, sans-serif`,\r\n            lineWidth: stage.canvas.width - 30\r\n        })\r\n        textContainer.addChild(text)\r\n        text.textAlign = 'center'\r\n        textContainer.x = stage.canvas.width / 2\r\n        textContainer.y = stage.canvas.height / 2 - stage.canvas.height / 5\r\n        this.container.addChild(textContainer)\r\n    }\r\n\r\n    handleLoad = data => {\r\n        this.arrowEl = new createjs.Bitmap(data.target, 'down-arrow')\r\n        this.addArrow()\r\n    }\r\n\r\n    load = () => {\r\n        let image = new Image()\r\n        image.src = './title/down-arrow.png'\r\n        image.onload = this.handleLoad\r\n    }\r\n\r\n    removeLoading = () => {\r\n        this.container.removeChild(this.fill)\r\n        this.container.removeChild(this.bar)\r\n    }\r\n\r\n    resize = () => {\r\n        this.props.stage.removeChild(this.container)\r\n        this.props.stage.removeChild(this.arrowEl)\r\n        createjs.Tween.removeAllTweens()        \r\n        this.createContainer()\r\n        this.createTitle()\r\n        this.createInstructions()\r\n        this.addArrow()\r\n        this.add()\r\n    }\r\n    \r\n    render() {\r\n        return null\r\n    }\r\n}","\r\nconst SPRITE_SHEETS = [\r\n    {\r\n        id: 'CARD_1',\r\n        src: './sprites/card1/card1.json'\r\n    },\r\n    {\r\n        id: 'CARD_2',\r\n        src: './sprites/card2/card2.json'\r\n    },\r\n    {\r\n        id: 'CARD_3',\r\n        src: './sprites/card3/card3.json'\r\n    },\r\n    {\r\n        id: 'CARD_4',\r\n        src: './sprites/card4/card4.json'\r\n    },\r\n    {\r\n        id: 'CARD_5',\r\n        src: './sprites/card5/card5.json'\r\n    },\r\n    {\r\n        id: 'CARD_6',\r\n        src: './sprites/card6/card6.json'\r\n    },\r\n    {\r\n        id: 'CARD_7',\r\n        src: './sprites/card7/card7.json'\r\n    },\r\n    {\r\n        id: 'CARD_9',\r\n        src: './sprites/card9/card9.json'\r\n    },\r\n    {\r\n        id: 'CARD_10',\r\n        src: './sprites/card10/card12.json'\r\n    },\r\n    {\r\n        id: 'CARD_12',\r\n        src: './sprites/card12/card12.json'\r\n    },\r\n    {\r\n        id: 'CARD_19',\r\n        src: './sprites/card20/card20.json'\r\n    },\r\n    {\r\n        id: 'CARD_21',\r\n        src: './sprites/card22/card22.json'\r\n    },\r\n    {\r\n        id: 'CARD_25',\r\n        src: './sprites/card26/card26.json'\r\n    },\r\n    {\r\n        id: 'CARD_27',\r\n        src: './sprites/card28/card28.json'\r\n    },\r\n    {\r\n        id: 'CARD_28',\r\n        src: './sprites/card29/card29.json'\r\n    },\r\n    {\r\n        id: 'CARD_29',\r\n        src: './sprites/card30/card30.json'\r\n    },\r\n    {\r\n        id: 'CARD_31',\r\n        src: './sprites/card32/card32.json'\r\n    },\r\n    {\r\n        id: 'CARD_33',\r\n        src: './sprites/card34/card34.json'\r\n    },\r\n    {\r\n        id: 'CARD_35',\r\n        src: './sprites/card36/card36.json'\r\n    },\r\n    {\r\n        id: 'CARD_36',\r\n        src: './sprites/card37/card37.json'\r\n    },\r\n    {\r\n        id: 'CARD_37',\r\n        src: './sprites/card38/card38.json'\r\n    },\r\n    {\r\n        id: 'CARD_38',\r\n        src: './sprites/card39/card39.json'\r\n    },\r\n    {\r\n        id: 'CARD_40',\r\n        src: './sprites/card41/card41.json'\r\n    },\r\n    {\r\n        id: 'CARD_41',\r\n        src: './sprites/card42/card42.json'\r\n    },\r\n    {\r\n        id: 'CARD_43',\r\n        src: './sprites/card44/card44.json'\r\n    },\r\n    {\r\n        id: 'CARD_46',\r\n        src: './sprites/card47/card47.json'\r\n    },\r\n    {\r\n        id: 'CARD_49',\r\n        src: './sprites/card50/card50.json'\r\n    },\r\n    {\r\n        id: 'CARD_50',\r\n        src: './sprites/card51/card51.json'\r\n    },\r\n    {\r\n        id: 'CARD_52',\r\n        src: './sprites/card53/card53.json'\r\n    },\r\n    {\r\n        id: 'CARD_55',\r\n        src: './sprites/card56/card56.json'\r\n    }\r\n]\r\n\r\nconst TYPES = {\r\n    CARD: 'CARD',\r\n    PLACARD: 'PLACARD'\r\n}\r\n\r\nconst STILLS = [\r\n    {\r\n        id: 'CARD_8',\r\n        src: './stills/Still8.png'\r\n    },\r\n    {\r\n        id: 'CARD_11',\r\n        src: './stills/Still11.png'\r\n    },\r\n    {\r\n        id: 'CARD_13',\r\n        src: './stills/Still13.png'\r\n    },\r\n    {\r\n        id: 'CARD_14',\r\n        src: './stills/Still14.png'\r\n    },\r\n    {\r\n        id: 'CARD_15',\r\n        src: './stills/Still15.png'\r\n    },\r\n    {\r\n        id: 'CARD_16',\r\n        src: './stills/Still16.png'\r\n    },\r\n    {\r\n        id: 'CARD_17',\r\n        src: './stills/Still17.png'\r\n    },\r\n    {\r\n        id: 'CARD_18',\r\n        src: './stills/Still19.png'\r\n    },\r\n    {\r\n        id: 'CARD_20',\r\n        src: './stills/Still21.png'\r\n    },\r\n    {\r\n        id: 'CARD_22',\r\n        src: './stills/Still23.png'\r\n    },\r\n    {\r\n        id: 'CARD_23',\r\n        src: './stills/Still24.png'\r\n    },\r\n    {\r\n        id: 'CARD_24',\r\n        src: './stills/Still25.png'\r\n    },\r\n    {\r\n        id: 'CARD_26',\r\n        src: './stills/Still27.png'\r\n    },\r\n    {\r\n        id: 'CARD_30',\r\n        src: './stills/Still31.png'\r\n    },\r\n    {\r\n        id: 'CARD_32',\r\n        src: './stills/Still33.png'\r\n    },\r\n    {\r\n        id: 'CARD_34',\r\n        src: './stills/Still35.png'\r\n    },\r\n    {\r\n        id: 'CARD_39',\r\n        src: './stills/Still40.png'\r\n    },\r\n    {\r\n        id: 'CARD_42',\r\n        src: './stills/Still43.png'\r\n    },\r\n    {\r\n        id: 'CARD_44',\r\n        src: './stills/Still45.png'\r\n    },\r\n    {\r\n        id: 'CARD_45',\r\n        src: './stills/Still46.png'\r\n    },\r\n    {\r\n        id: 'CARD_47',\r\n        src: './stills/Still48.png'\r\n    },\r\n    {\r\n        id: 'CARD_48',\r\n        src: './stills/Still49.png'\r\n    },\r\n    {\r\n        id: 'CARD_51',\r\n        src: './stills/Still52.png'\r\n    },\r\n    {\r\n        id: 'CARD_53',\r\n        src: './stills/Still54.png'\r\n    },\r\n    {\r\n        id: 'CARD_54',\r\n        src: './stills/Still55.png'\r\n    }\r\n]\r\n\r\nconst PLACARDS = [\r\n    {\r\n        id: 'PLACARD_1',\r\n        src: './placards/placard1/card9.json',\r\n        after: {\r\n            idx: 8\r\n        }\r\n    },\r\n    {\r\n        id: 'PLACARD_2',\r\n        src: './placards/placard2/card10.json',\r\n        after: {\r\n            idx: 8\r\n        }\r\n    },\r\n    {\r\n        id: 'PLACARD_3',\r\n        src: './placards/placard3/placard3.json',\r\n        after: {\r\n            idx: 33\r\n        }\r\n    }\r\n]\r\n\r\nconst ORIGINAL_SIZE = {\r\n    STILLS: {\r\n        h: 480,\r\n        w: 1440\r\n    },\r\n    STAGE: {\r\n        w: 640,\r\n        h: 480\r\n    }\r\n}\r\n\r\nconst MARGIN = {\r\n    x: 20,\r\n    y: 30\r\n}\r\n\r\nconst POPUPS = {\r\n    AUDREY: 'audrey',\r\n    HETTIE: 'hettie',\r\n    DORIS: 'doris',\r\n    ABOUT: 'about',\r\n    VIDEO: 'video'\r\n}\r\n\r\nconst FRAMERATE = 15\r\n\r\nconst TOTAL_ASSETS = SPRITE_SHEETS.length + PLACARDS.length + STILLS.length\r\n\r\nconst FIRST_SPRITE = 'CARD_1'\r\nconst FIRST_PLACARD = 'PLACARD_1'\r\n\r\nexport {ORIGINAL_SIZE, POPUPS, FIRST_SPRITE, FIRST_PLACARD, FRAMERATE, MARGIN, PLACARDS, STILLS, SPRITE_SHEETS, TYPES, TOTAL_ASSETS}","import React from 'react'\r\nimport createjs from 'createjs-module'\r\nimport { PLACARDS, FIRST_PLACARD, MARGIN } from '../constants/constants'\r\n\r\nexport default class Placard extends React.Component {\r\n    constructor(props) {\r\n        super(props)\r\n        let i = props.id.split('_')\r\n        this.state = {\r\n            idx: Number(i[i.length - 1]) - 1,\r\n            transform: {\r\n                x: 0,\r\n                y: 0,\r\n                w: 0,\r\n                h: 0\r\n            }\r\n        }\r\n    }\r\n\r\n    add = () => {\r\n        const { stage } = this.props;\r\n        this.transform()\r\n        this.addEventListener()\r\n        stage.addChild(this.spriteEl)\r\n        this.play()\r\n    }\r\n\r\n    addEventListener = () => {\r\n        window.addEventListener('resize', this.transform)\r\n    }\r\n\r\n    componentDidMount() {\r\n        this.load()\r\n    }\r\n\r\n    handleLoad = sprite => {\r\n        const { handleLoad, id } = this.props\r\n        this.spriteEl = new createjs.Sprite(sprite.result, this.id)\r\n        handleLoad(id)\r\n        this.add()\r\n    }\r\n\r\n    load = () => {\r\n        const { src, id } = this.props;\r\n\r\n        let loader = new createjs.LoadQueue(false)\r\n        let manifest = {\r\n            src: src,\r\n            id: id,\r\n            type: 'spritesheet',\r\n            crossOrigin: true\r\n        }\r\n        loader.loadManifest(manifest, true)\r\n        loader.on(\"fileload\", this.handleLoad)\r\n    }\r\n\r\n    play = () => {\r\n        this.spriteEl.play()\r\n    }\r\n\r\n    transform = () => {\r\n        const { stage, after, id, setTransform } = this.props;\r\n        let margin = stage.canvas.width / 10 < MARGIN.x ? MARGIN.x : stage.canvas.width / 10\r\n        let transform = {x: 0, y: 0, w: 0, h: 0}\r\n        let rectWidth = 1440\r\n        let rectHeight = 200\r\n        let toResize = rectWidth + MARGIN.y * 2 > stage.canvas.width\r\n        let isScreenSmall = stage.canvas.width <= 600\r\n        transform.w = toResize ? stage.canvas.width - margin : rectWidth\r\n        transform.w = isScreenSmall ? stage.canvas.width : transform.w\r\n        transform.h = (rectHeight / rectWidth) * transform.w\r\n        transform.x = (stage.canvas.width - transform.w) / 2\r\n        transform.x = isScreenSmall ? 0 : transform.x\r\n        let cardHeight = transform.h * 2.4\r\n        let yOffset = after.idx * cardHeight + (after.idx + 1) * MARGIN.y * 2\r\n        PLACARDS.forEach(placard => {\r\n            let i = placard.id.split('_')\r\n            let idx = Number(i[i.length - 1]) - 1\r\n            if (this.state.idx > idx) {\r\n                yOffset += transform.h + MARGIN.y * 2\r\n            }\r\n        })\r\n        transform.y = yOffset + stage.canvas.height\r\n        let scale = transform.w / rectWidth\r\n        this.spriteEl.setTransform(transform.x, transform.y, scale, scale)\r\n        this.setState({\r\n            transform\r\n        })\r\n        if (id === FIRST_PLACARD) {\r\n            setTransform(transform, 'placards')\r\n        }\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <div></div>\r\n        )\r\n    }\r\n}","import React from 'react'\r\nimport createjs from 'createjs-module'\r\n\r\nimport {FIRST_SPRITE, MARGIN, PLACARDS} from '../constants/constants'\r\n\r\nexport default class Sprite extends React.Component {\r\n    constructor(props) {\r\n        super(props)\r\n        let i = props.id.split('_')\r\n        this.state = {\r\n            idx: Number(i[i.length - 1]) - 1,\r\n            transform: {\r\n                x: 0,\r\n                y: 0,\r\n                w: 0,\r\n                h: 0\r\n            }\r\n        }\r\n    }\r\n\r\n    add = () => {\r\n        this.transform()\r\n        this.stop()\r\n        this.addEventListeners()\r\n        this.props.stage.addChild(this.spriteEl)\r\n    }\r\n\r\n    addEventListeners = () => {\r\n        this.spriteEl.addEventListener('click', this.onClick)\r\n        window.addEventListener('resize', this.transform)\r\n    }\r\n\r\n    calculateYOffset = height => {\r\n        let yOffset = 0\r\n        PLACARDS.forEach(placard => {\r\n            let idx = placard.after.idx\r\n            if (this.state.idx >= idx) {\r\n                yOffset += height * 5 / 12 + MARGIN.y * 2\r\n            }\r\n        })\r\n        return yOffset\r\n    }\r\n\r\n    checkBounds = () => {\r\n        // if (this.props.currentSprite) return\r\n        // Use const for state declarations, since they should never be changed by assigning a new value ( setState )\r\n        // A good practice is declaring all props the same way you do with the state. Clears up the code and you do not have to repeat this.props... \r\n        const { transform } = this.state\r\n        const { stage, y, currentSprite } = this.props\r\n        let isHeightBiggerThanScreen = transform.h > stage.canvas.height\r\n        if (this.state.isPlaying) {\r\n            if (isHeightBiggerThanScreen) {\r\n                if (-y < transform.y && -y > transform.y + transform.h) {\r\n                    this.stop()\r\n                }\r\n            } else if (transform.y < -y || transform.y + transform.h > -y + stage.canvas.height) {\r\n                this.stop()\r\n            }\r\n        } else {\r\n            if (!transform || this.state.hasPlayed || currentSprite) return\r\n            if (isHeightBiggerThanScreen && -y < transform.y && -y > transform.y + transform.h) {\r\n                this.play()\r\n            } else if (transform.y > -y && transform.y + transform.h < -y + stage.canvas.height) {\r\n                this.play()\r\n            }\r\n        }\r\n    }\r\n\r\n    componentDidUpdate = prevProps => {\r\n\r\n        if (!prevProps.queue && this.props.queue) {\r\n            this.load()\r\n        }\r\n\r\n        if (!prevProps.popup && this.props.popup && this.state.isPlaying) {\r\n            this.stop()\r\n        }\r\n\r\n        if (prevProps.y !== this.props.y) {\r\n            // Check if out of bounds\r\n            this.checkBounds()\r\n        }\r\n    }\r\n\r\n    check = () => {\r\n        let hasFinished = this.spriteEl.currentFrame === this.spriteEl.spriteSheet._frames.length - 1\r\n        if (hasFinished) {\r\n            this.stop()\r\n            this.setState({\r\n                hasPlayed: true\r\n            })\r\n            createjs.Ticker.removeEventListener('tick', this.check)\r\n        }\r\n    }\r\n\r\n    handleLoad = sprite => {\r\n        if (sprite.item.id === this.props.id) {\r\n            this.spriteEl = new createjs.Sprite(sprite.result, this.id)\r\n            this.props.handleLoad(this.props.id, 'sprites')\r\n            this.add()\r\n        }\r\n\r\n        // this.add()\r\n    }\r\n\r\n    load = () => {\r\n        let manifest = {\r\n            src: this.props.src,\r\n            id: this.props.id,\r\n            type: 'spritesheet',\r\n            crossOrigin: true\r\n        }\r\n        this.props.queue.loadManifest(manifest, true)\r\n        this.props.queue.on(\"fileload\", this.handleLoad)\r\n    }\r\n\r\n    onClick = ev => {\r\n        if (!this.spriteEl) return\r\n        if (this.state.hasPlayed) {\r\n            this.play(true)\r\n        }\r\n    }\r\n\r\n    play = force => {\r\n        if (!this.spriteEl) return\r\n\r\n        if (this.state.hasPlayed) {\r\n            this.spriteEl.gotoAndPlay(0)\r\n            this.setState({\r\n                hasPlayed: false\r\n            })\r\n        } else {\r\n            this.setState({\r\n                isPlaying: true\r\n            })\r\n            this.spriteEl.play()\r\n        }\r\n        createjs.Ticker.addEventListener('tick', this.check)\r\n        this.props.setCurrentSprite(this.props.id)\r\n    }\r\n\r\n    stop = force => {\r\n        if (!force) {\r\n            this.props.setCurrentSprite(null)\r\n        }\r\n        this.spriteEl.stop()\r\n        this.setState({\r\n            isPlaying: false\r\n        })\r\n    }\r\n\r\n    transform = () => {\r\n        // Using window dimensions like this is considered a bad practice. Since they already are used for our canvas we can take them from there.\r\n        // I did this change whereever possible.\r\n        // Also even if you have to use them I would recommend that you save them in a variable and reuse that everywhere\r\n        // Here you had them saved but there were still checks with window.innerWidth which causes a browser reflow and can slow down the page\r\n        const { stage, id, setTransform } = this.props;\r\n        let margin = stage.canvas.width / 10 < MARGIN.x ? MARGIN.x : stage.canvas.width / 10\r\n        let transform = {x: 0, y: 0, w: 0, h: 0}\r\n        let rectWidth = 1440\r\n        let rectHeight = 480\r\n        let toResize = rectWidth + MARGIN.y * 2 > stage.canvas.width\r\n        let isScreenSmall = stage.canvas.width <= 600\r\n\r\n        transform.w = toResize ? stage.canvas.width - margin : rectWidth\r\n        transform.w = isScreenSmall ? stage.canvas.width : transform.w\r\n        transform.h = (rectHeight / rectWidth) * transform.w\r\n        transform.x = (stage.canvas.width - transform.w) / 2\r\n        transform.x = isScreenSmall ? 0 : transform.x\r\n        transform.y = stage.canvas.height + transform.h * this.state.idx + MARGIN.y * 2 * (this.state.idx + 1)\r\n        transform.y += this.calculateYOffset(transform.h)\r\n        let scale = transform.w / rectWidth\r\n        this.spriteEl.scaleX = scale\r\n        this.spriteEl.scaleY = scale\r\n        this.spriteEl.x = transform.x\r\n        this.spriteEl.y = transform.y\r\n        this.setState({\r\n            transform\r\n        })\r\n        if (id === FIRST_SPRITE) {\r\n            setTransform(transform, 'sprites')\r\n        }\r\n    }\r\n\r\n    render() {\r\n        return null\r\n    }\r\n}","import React from 'react'\r\nimport createjs from 'createjs-module'\r\nimport {PLACARDS, MARGIN} from '../constants/constants'\r\n\r\nexport default class Still extends React.Component {\r\n    constructor(props) {\r\n        super(props)\r\n        let i = props.id.split('_')\r\n        this.state = {\r\n            idx: Number(i[i.length - 1]) - 1,\r\n            transform: {\r\n                x: 0,\r\n                y: 0,\r\n                w: 0,\r\n                h: 0\r\n            }\r\n        }\r\n    }\r\n\r\n    debounce = function(func, wait = 100) {\r\n        let timeout;\r\n        return function(...args) {\r\n          clearTimeout(timeout);\r\n          timeout = setTimeout(() => {\r\n            func.apply(this, args);\r\n          }, wait);\r\n        };\r\n      }\r\n\r\n    addEventListener = () => {\r\n        // It is a good practice to have resize callbacks debounced. It is not a huge issue here but since there are calculations in the transform function, \r\n        // not debouncing the function might fill the browser memmory since it will fire constantly until the resize stops\r\n        window.addEventListener('resize', this.debounce(this.transform, 100))\r\n    }\r\n\r\n    add = () => {\r\n        const { stage } = this.props\r\n\r\n        this.transform()\r\n        stage.addChild(this.stillEl)\r\n    }\r\n\r\n    calculateYOffset = height => {\r\n        let yOffset = 0\r\n        PLACARDS.forEach(placard => {\r\n            let idx = placard.after.idx\r\n            if (this.state.idx >= idx) {\r\n                yOffset += height * 5 / 12 + MARGIN.y * 2\r\n            }\r\n        })\r\n        return yOffset\r\n    }\r\n\r\n    componentDidMount() {\r\n        this.load()\r\n    }\r\n\r\n    handleLoad = data => {\r\n        const { handleLoad, id } = this.props\r\n        this.stillEl = new createjs.Bitmap(data.target, id)\r\n        handleLoad(id, 'stills')\r\n        this.add()\r\n        this.addEventListener()\r\n    }\r\n\r\n    load = () => {\r\n        let image = new Image()\r\n        image.src = this.props.src\r\n        image.onload = this.handleLoad\r\n    }\r\n\r\n    transform = () => {\r\n        const { idx } = this.state\r\n        const { stage } = this.props\r\n        let margin = stage.canvas.width / 10 < MARGIN.x ? MARGIN.x : stage.canvas.width / 10\r\n        let transform = {x: 0, y: 0, w: 0, h: 0}\r\n        let rectWidth = 1440\r\n        let rectHeight = 480\r\n        let toResize = rectWidth + MARGIN.y * 2 > stage.canvas.width\r\n        let isScreenSmall = stage.canvas.width <= 600\r\n\r\n        transform.w = toResize ? stage.canvas.width - margin : rectWidth\r\n        transform.w = isScreenSmall ? stage.canvas.width : transform.w\r\n        transform.h = (rectHeight / rectWidth) * transform.w\r\n        transform.x = (stage.canvas.width - transform.w) / 2\r\n        transform.x = isScreenSmall ? 0 : transform.x\r\n        transform.y = stage.canvas.height + transform.h * idx + MARGIN.y * 2 * (idx + 1)\r\n        transform.y += this.calculateYOffset(transform.h)\r\n        let scale = transform.w / rectWidth\r\n        this.stillEl.scaleX = scale\r\n        this.stillEl.scaleY = scale\r\n        this.stillEl.x = transform.x\r\n        this.stillEl.y = transform.y\r\n        this.setState({\r\n            transform\r\n        })\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <div></div>\r\n        )\r\n    }\r\n}\r\n","import React from \"react\";\r\n\r\nexport default class Buttons extends React.Component {\r\n    constructor(props) {\r\n        super(props)\r\n    }\r\n\r\n    onButtonClick = ev => {\r\n        this.props.setPopup(ev.target.id)\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <div className={`buttons ${this.props.showButtons ? 'visible' : 'hidden'}`}>\r\n                <div id=\"buttons-container\" className=\"buttons-container\">\r\n                    <div id=\"audrey\" className=\"button\" onClick={this.onButtonClick}>AUDREY</div>\r\n                    <div id=\"doris\" className=\"button\" onClick={this.onButtonClick}>DORIS</div>\r\n                    <div id=\"hettie\" className=\"button\" onClick={this.onButtonClick}>HETTIE</div>\r\n                </div>\r\n                <div id=\"bottom-buttons-container\" className=\"bottom-button-container\">\r\n                    <div id=\"about\" className=\"button\" onClick={this.onButtonClick}>ABOUT</div>\r\n                    <div id=\"video\" className=\"button\" onClick={this.onButtonClick}>THE VIDEO</div>\r\n                </div>\r\n            </div>\r\n        )\r\n    }\r\n}\r\n","import {getDate} from './utils'\r\n\r\nconst AUDREY_TEXT = {\r\n    header:  'AUDREY',\r\n    html: `\r\n    <div class=\"chunk\">\r\n        Born on June 8, 1891 in Rochester, NY, Audrey Munson was catapulted from a young age to fame, which according to her mother, was her destiny forecasted as a young child. At five-years-old, Audrey’s mother, Katherine Mahaney, took her daughter to see Gypsy Queen Eliza who was visiting from England. Eliza looked at Audrey and predicted:\r\n    </div>\r\n    <div class=\"quote\">\r\n        “You shall be beloved and famous. But when you think that happiness is yours, its Dead Sea fruit shall turn to ashes in your mouth.”\r\n    </div>\r\n    <div class=\"chunk\">\r\n        Eleven years later, Eliza’s prophecy would be realized when Audrey was approached by a photographer in Manhattan asking her to model for an upcoming project. Baffled by her natural professionalism and captivating presence, he referred Audrey to other artists. At just sixteen-years-old, Audrey posed nude for artists such as Isidore Kante, Daniel Chester French, Allen George Newman, Albert Jaegers, and many other renowned sculptors. By her early twenties, she became one of the best known women in Manhattan. She was called “America’s First Supermodel”, Miss Manhattan, and other names acknowledging her greatness.\r\n    </div>\r\n    <div class=\"chunk\">\r\n        Audrey Munson was a living muse for artists at the peak of the Beaux Art movement in New York City. She was regarded as “the most perfect, most versatile, most famous of American models, whose face and figure have inspired thousands of modern masterpieces of sculpture and painting.” At one point, over thirty sculptures were present at the Metropolitan Museum of Art alone bearing Audrey’s likeness, while hundreds of others are scattered across the country.\r\n    </div>\r\n    <div class=\"chunk\">\r\n        Though her image can be seen everywhere from museums to city streets, few know her name. Plaques publicize the name of the piece - Memory, Progress, Republic, or Victory - and the artist, but Audrey Munson remains unrecognized. We know her naked body, her vacant stare, but we don’t know her name. As quickly as she ascended to fame, she fell into obscurity.\r\n    </div>\r\n    <div class=\"quote\">\r\n        “The sculptor’s natural way of expressing himself is to mold into form his conceptions. From the earliest ages beauty and truth have been expressed in the figure of a woman.” <br />- Allen George Newman\r\n    </div>\r\n\r\n    <br />\r\n    <h1>IN THE REBELLION</h2>\r\n    <div class=\"chunk\">\r\n        During the Caryatid Rebellion, Audrey broke out of her marble cage on ${getDate()} and became ruler of the snakes, turning men into stone to live the fate that she and her sisters lived. You can watch her in the Rebellion as Alma Mater at Columbia University and Brian Tolle’s Miss Manhattan and Miss Brooklyn in Downtown Brooklyn.\r\n    </div>\r\n    <br />\r\n    <br />\r\n    `\r\n}\r\n\r\nconst DORIS_TEXT = {\r\n    header:  'DORIS',\r\n    html: `\r\n        <div></div>\r\n    `\r\n}\r\n\r\nconst HETTIE_TEXT = {\r\n    header:  'HETTIE',\r\n    html: `\r\n        <div></div>\r\n    `\r\n}\r\n\r\nconst ABOUT_TEXT = {\r\n    header: 'ABOUT',\r\n    html: `\r\n    <div>\r\n        In New York City, there are only five monuments of named women but hundreds of anonymous ones such as caryatids, architectural columns in the form of feminine bodies. The male monument is allowed individuality while her body is an allegory, inexpressible and unable to exist independently as flesh and blood. Looking for the original women behind the sculptures, I found Audrey Munson, Hettie Anderson, and Doris Doscher, three models who posed for many of the unnamed sculptures found in New York and across the United States. <br><br>\r\n\r\n        <i>The Caryatid Rebellion</i> is an interactive comic and 7-minute video experience based on Hettie, Audrey, and Doris and their uprising against the buildings and institutions they have been forced to carry. With music by Violet June of Machine+, the experience begins with the caryatids’ current state, holding up buildings and institutions that continue to exclude and oppress, and documents their eventual rebellion and reclamation of the built world. Creating this world also involved my own process of rebellion by 3D modeling Korean architecture and designing avatars that looked more like me and other people of color, subverting the encoded white standards of beauty in Neoclassical architecture.\r\n    </div>\r\n    <br />\r\n    <br />\r\n\r\n    <h1>CREDITS</h1>\r\n    <div>\r\n        Created by <a href=\"https://sueroh.com/work\">Sue Roh</a><br />\r\n        Music by Violet June Ciavattone from <a href=\"https://machineplusel.bandcamp.com/\">Machine+</a><br />\r\n        A big thanks to Nancy Hechinger, Dana Elkis, Arnab Chakravarty, Carla Gannis, Matt Romein, Clarinda MacLow, Katie Han, Lizzy Chiappini, Cezar Mocan, Dawn Sinkowski, Cy X, Simone Salvo, Sydney Meyers, Elizabeth Perez, Christina Dacanay, Rachel Costas, Cy Kim, Fernando Gregorio, and Nicole Cabalquinto <br />\r\n        <br />\r\n    </div>\r\n    `\r\n}\r\n\r\nconst VIDEO_TEXT = {\r\n    header: 'WATCH THE REBELLION',\r\n    html: `\r\n    <iframe src=\"https://player.vimeo.com/video/544792816\" width=\"640\" height=\"360\" frameborder=\"0\" allow=\"autoplay; fullscreen; picture-in-picture\" allowfullscreen></iframe>    \r\n    `\r\n}\r\n\r\nconst TEXT = {\r\n    audrey: AUDREY_TEXT,\r\n    doris: DORIS_TEXT,\r\n    hettie: HETTIE_TEXT,\r\n    about: ABOUT_TEXT,\r\n    video: VIDEO_TEXT\r\n}\r\n\r\nexport default TEXT","function getDate() {\r\n    var months = [\"Jan\", \"Feb\", \"Mar\", \"Apr\", \"May\", \"Jun\", \"Jul\", \"Aug\", \"Sep\", \"Oct\", \"Nov\", \"Dec\"]\r\n    var days = [\"Sunday\", \"Monday\", \"Tuesday\", \"Wednesday\", \"Thursday\", \"Friday\", \"Saturday\"]\r\n    var d = new Date()\r\n    var day = days[d.getDay()]\r\n    var hr = d.getHours()\r\n    var min = d.getMinutes()\r\n    if (min < 10) {\r\n        min = \"0\" + min\r\n    }\r\n    var ampm = \"am\"\r\n    if( hr > 12 ) {\r\n        hr -= 12\r\n        ampm = \"pm\"\r\n    }\r\n    var date = d.getDate()\r\n    var month = months[d.getMonth()]\r\n    var year = d.getFullYear()\r\n    return day + \", \" + month + \" \" + date + \", \" + year + \" at \" + hr + \":\" + min + ampm\r\n}\r\n\r\nexport {getDate}","import React from \"react\"\r\n\r\nimport TEXT from '../constants/text'\r\n\r\nexport default class Popup extends React.Component {\r\n    constructor(props) {\r\n        super(props)\r\n    }\r\n\r\n    close = () => {\r\n        this.props.setPopup(null)\r\n    }\r\n    renderClose = () => (\r\n        <div className=\"close-container\">\r\n            <div \r\n                onClick={this.close}\r\n                className=\"close\"></div>\r\n        </div>\r\n    )\r\n\r\n    renderText = () => (\r\n        {\r\n            __html: TEXT[this.props.which].html\r\n        }\r\n    )\r\n\r\n    render() {\r\n        return (\r\n            <div className=\"popup-container visible\">\r\n                {this.renderClose()}\r\n                <div className=\"text\">\r\n                    <h1>{TEXT[this.props.which].header}</h1>\r\n                </div>\r\n                <div className=\"description\">\r\n                    <div dangerouslySetInnerHTML={this.renderText()} />\r\n                </div>\r\n            </div>\r\n        )\r\n    }\r\n}\r\n","import React from 'react'\r\nimport createjs from 'createjs-module'\r\n\r\nimport Landing from './Landing'\r\nimport Placard from './Placard'\r\nimport Sprite from './Sprite'\r\nimport Still from './Still'\r\nimport Buttons from './Buttons'\r\nimport {FRAMERATE, SPRITE_SHEETS, TOTAL_ASSETS, MARGIN, STILLS, PLACARDS, POPUPS} from '../constants/constants'\r\nimport Popup from './Popup'\r\n\r\nimport {isTouchDevice} from '../utils/utils'\r\n\r\nwindow.createjs = createjs\r\n\r\nclass Stage extends React.Component {\r\n  constructor(props) {\r\n    super(props)\r\n    this.state = {\r\n      areButtonsShowing: false,\r\n      assetTransform: {sprites: {}, placards: {}},\r\n      currentSprite: null,\r\n      hasLoaded: false,\r\n      hasScrolled: false,\r\n      y: 0,\r\n      mouseY: 0,\r\n      isTouchDevice: false,\r\n      popup: null,\r\n      lowerBound: 0,\r\n      loadedElements: 0,\r\n      loaded: {sprites: 0, placards: 0},\r\n      touchStartTimestamp: 0,\r\n      touchEndTimestamp: 0,\r\n      touchDirection: 0,\r\n      touchStartPosition: 0,\r\n      touchEndPosition: 0\r\n    }\r\n  }\r\n\r\n  componentDidMount() {\r\n    this.setState({\r\n      isTouchDevice: this.isTouchDevice()\r\n    })\r\n    this.setup()\r\n    this.addEventListeners()\r\n    this.changeBackground()\r\n  }\r\n\r\n  componentWillUnmount = () => {\r\n    document.removeEventListener('wheel', this.scroll)\r\n    window.removeEventListener('resize', this.resize)\r\n    clearInterval(this.changeHue)\r\n  }\r\n\r\n  addEventListeners = () => {\r\n    if (isTouchDevice()) {\r\n      document.getElementById('canvas').addEventListener('touchend', this.onMouseUp)\r\n      document.getElementById('canvas').addEventListener('touchstart', this.onMouseDown)  \r\n    } else {\r\n      document.addEventListener('wheel', this.onScroll)\r\n    }\r\n    window.addEventListener('resize', this.resize)\r\n  }\r\n\r\n  calculateLowerBound = () => {\r\n    let numOfSprites = SPRITE_SHEETS.length + STILLS.length\r\n    let numOfPlacards = PLACARDS.length\r\n    let lowerBound = numOfSprites * this.state.assetTransform.sprites.h + numOfPlacards * this.state.assetTransform.placards.h\r\n    lowerBound += TOTAL_ASSETS * MARGIN.y * 2 + MARGIN.y * 4\r\n    this.setState({\r\n      lowerBound\r\n    })\r\n    return lowerBound\r\n  }\r\n\r\n  changeBackground = () => {\r\n    let hue = 360\r\n\r\n    let changeHue = () => {\r\n        var col1 = Math.abs((hue % 720) - 360)\r\n        var col2 = Math.abs(((hue+90) % 720) - 360)\r\n        hue++\r\n\r\n        document.body.style.background = 'linear-gradient(to right, hsl(' + col1 + ',70%, 75%) 0%,hsl(' + col2 + ',90%,75%) 100%)'\r\n    }\r\n\r\n    this.changeHue = setInterval(changeHue, 64)\r\n  }\r\n\r\n  draw = () => {\r\n    this.stage.update()\r\n  }\r\n\r\n  exitPopup = ev => {\r\n    if (this.state.popup === null) {\r\n      console.log('sdfjkkl')\r\n    }\r\n  }\r\n\r\n  isTouchDevice = () => {\r\n    return (('ontouchstart' in window) ||\r\n      (navigator.maxTouchPoints > 0) ||\r\n      (navigator.msMaxTouchPoints > 0))\r\n  }\r\n\r\n  onLoad = () => {\r\n    let hasLoaded = this.state.loadedElements + 1 === TOTAL_ASSETS\r\n\r\n    this.setState({\r\n      loadedElements: this.state.loadedElements + 1,\r\n      hasLoaded,\r\n      // loaded: Object.assign({}, {[type]: [...this.state.loaded[type], id]}, this.state.loaded)\r\n    })\r\n\r\n    if (hasLoaded) {\r\n      this.calculateLowerBound()\r\n    }\r\n  }\r\n\r\n  onMouseDown = ev => {\r\n    // Touch events are deeper into the event object, the only thing wrong was that using ev.pageY returned undefined and the scroll function was getting NaN passed\r\n    this.setState({\r\n      mouseY: ev.touches[0].pageY,\r\n      touchStartTimestamp: ev.timeStamp,\r\n      touchStartPosition: ev.touches[0].pageY\r\n    })\r\n\r\n    document.getElementById('canvas').addEventListener('touchmove', this.onMouseMove)\r\n\r\n  }\r\n\r\n  onMouseMove = ev => {\r\n    this.scroll(this.state.y + (ev.touches[0].pageY - this.state.mouseY))\r\n    this.setState({\r\n      mouseY: ev.touches[0].pageY,\r\n      touchDirection: ev.touches[0].pageY > this.state.mouseY ?  'down' : 'up',\r\n      touchEndPosition: ev.touches[0].pageY\r\n    })\r\n  }\r\n\r\n  onMouseUp = ev => {\r\n    this.setState({\r\n      touchEndTimestamp: ev.timeStamp,\r\n    })\r\n    const { y } = this.state\r\n    const eventLength = this.state.touchEndTimestamp - this.state.touchStartTimestamp\r\n    const pathLength = this.state.touchDirection === 'up' ? this.state.touchStartPosition - this.state.touchEndPosition : this.state.touchEndPosition - this.state.touchStartPosition\r\n    const canvasHeight = document.getElementById('canvas').offsetHeight;\r\n    const velocity = pathLength/eventLength;\r\n    const velocityScroll = canvasHeight * velocity;\r\n    let newScroll = 0\r\n    if (this.state.touchDirection === 'up') {\r\n      if(-(y - velocityScroll) > this.state.lowerBound && this.state.lowerBound) {\r\n        newScroll = -this.state.lowerBound\r\n      } else {\r\n        newScroll = y - velocityScroll\r\n      }\r\n    } else {\r\n      if (y + velocityScroll > 0) {\r\n        newScroll = 0\r\n      } else {\r\n        newScroll = y + velocityScroll\r\n      }\r\n    }\r\n    createjs.Tween.get(this.stage, {override: true}).to({\r\n        y: newScroll\r\n    }, 500, createjs.Ease.sineOut)\r\n    this.setState({y: newScroll})\r\n    document.getElementById('canvas').removeEventListener('touchmove', this.onMouseMove)\r\n\r\n  }\r\n\r\n  onScroll = ev => {\r\n    let y  = this.state.y - ev.deltaY\r\n    this.scroll(y)\r\n  }\r\n\r\n  scroll = y => {\r\n    if (this.state.popup) return\r\n\r\n    if (Math.abs(y) > window.innerHeight && !this.state.areButtonsShowing) {\r\n      this.setState({\r\n        areButtonsShowing: true\r\n      })\r\n    } else if (Math.abs(this.state.y) < window.innerHeight && this.state.areButtonsShowing) {\r\n      // Hide buttons\r\n      this.setState({\r\n        areButtonsShowing: false\r\n      })\r\n    }\r\n\r\n    if (y > 0) {\r\n        return\r\n    }\r\n\r\n    if (-y > this.state.lowerBound && this.state.lowerBound) {\r\n        return\r\n    }\r\n    \r\n    this.setState({\r\n      hasScrolled: true,\r\n      y\r\n    })\r\n    this.y = y\r\n\r\n    createjs.Tween.get(this.stage, {override: true}).to({\r\n        y\r\n    }, 500, createjs.Ease.sineOut)\r\n  }\r\n\r\n  setCurrentSprite = currentSprite => {\r\n    this.setState({\r\n      currentSprite\r\n    })\r\n  }\r\n\r\n  setTransform = (spriteTransform, type) => {\r\n    this.setState({\r\n      assetTransform: Object.assign({}, this.state.assetTransform, {[type]: spriteTransform})\r\n    })\r\n  }\r\n\r\n  setup = () => {\r\n    this.stage = new createjs.Stage('canvas')\r\n    this.stage.snapToPixelEnabled = true\r\n    this.stage.snapToPixel = true\r\n    let ctx = this.stage.canvas.getContext('2d')\r\n    ctx.webkitImageSmoothingEnabled = ctx.mozImageSmoothingEnabled = ctx.imageSmoothingEnabled = true\r\n    createjs.Touch.enable(this.stage)\r\n\r\n    this.resize()\r\n\r\n    // Ticker\r\n    createjs.Ticker.timingMode = createjs.Ticker.RAF_SYNCHED\r\n    createjs.Ticker.framerate = FRAMERATE\r\n    createjs.Ticker.on('tick', this.draw)\r\n    \r\n    this.queue = new createjs.LoadQueue(true)\r\n    this.queue.maintainScriptOrder = true\r\n\r\n    this.stage.enableMouseOver(20)\r\n  }\r\n\r\n  renderLanding = () => (\r\n    <Landing\r\n      stage={this.stage}\r\n      loadedPercentage={this.state.loadedElements / TOTAL_ASSETS}\r\n      hasScrolled={this.state.hasScrolled}\r\n    />\r\n  )\r\n\r\n  renderPlacard = ({id, src, after}) => {\r\n    return <Placard \r\n      key={id}\r\n      id={id} \r\n      stage={this.stage}\r\n      handleLoad={this.onLoad}\r\n      setTransform={this.setTransform}\r\n      src={src}\r\n      after={after}\r\n    />\r\n  }\r\n\r\n  renderPopup = () => (\r\n    <Popup\r\n      setPopup={this.setPopup}\r\n      which={this.state.popup}\r\n    />\r\n  )\r\n\r\n  renderSprite = ({id, src}) => {\r\n    return <Sprite \r\n      key={id}\r\n      id={id} \r\n      stage={this.stage}\r\n      handleLoad={this.onLoad}\r\n      setTransform={this.setTransform}\r\n      queue={this.queue}\r\n      src={src}\r\n      y={this.state.y}\r\n      popup={this.state.popup}\r\n      loaded={this.state.loaded}\r\n      setCurrentSprite={this.setCurrentSprite}\r\n      currentSprite={this.state.currentSprite}\r\n     />\r\n  }\r\n\r\n  renderStill = ({id, src}) => (\r\n    <Still \r\n      key={id}\r\n      id={id} \r\n      stage={this.stage}\r\n      handleLoad={this.onLoad}\r\n      src={src}\r\n     /> \r\n    )\r\n\r\n  resize = () => {\r\n    let currentPos = this.state.y / this.state.lowerBound\r\n    this.stage.canvas.width = window.innerWidth\r\n    this.stage.canvas.height = window.innerHeight\r\n     /* The issue with scaling was a tough one to crack. It is a canvas issue that browsers can't handle very well. Scaling an image distorts it. \r\n     What I did was using your mobile check, then if in mobile I overset the canvas width and height with a 5:9 but the window width is the same.\r\n     This ends up using a smaller scale for the sprites ~ 0.42 instead of 0.21. Your calculations were not wrong, but with the smaller scale down,\r\n     the image is not as distorted as it was. and still fits.\r\n     TLDR: The canvas becomes bigger than the screen but everything is still fit to the screen **/\r\n\r\n    if (window.innerWidth < 600) {\r\n      this.stage.canvas.width = 700\r\n      this.stage.canvas.height = 1260\r\n    }\r\n    if (this.state.hasLoaded) {\r\n      setTimeout(() => {\r\n        let lowerBound = this.calculateLowerBound()\r\n        let y = currentPos * lowerBound\r\n        this.scroll(y)\r\n      }, 100)\r\n    }\r\n  }\r\n\r\n  setPopup = popup => {\r\n    let areButtonsShowing = !popup\r\n    this.setState({\r\n      popup,\r\n      areButtonsShowing\r\n    })\r\n  }\r\n\r\n  render() {\r\n    const { popup, areButtonsShowing } = this.state\r\n    // Initially setting the canvas dimensions was causing a flicker for the first load after the browser calculated the dimensions.\r\n    return (\r\n      <div>\r\n        <canvas \r\n          id=\"canvas\" \r\n          className={`${popup ? 'blurred' : ''}`}\r\n          ></canvas>\r\n        <Buttons\r\n          showButtons={areButtonsShowing}\r\n          setPopup={this.setPopup}\r\n        />\r\n        {popup ? this.renderPopup() : null}\r\n        {this.renderLanding()}\r\n        {SPRITE_SHEETS.map(this.renderSprite)}\r\n        {STILLS.map(this.renderStill)}\r\n        {PLACARDS.map(this.renderPlacard)}\r\n      </div>\r\n    )\r\n  }\r\n}\r\nexport default Stage\r\n","function isTouchDevice() {\r\n    return (('ontouchstart' in window) ||\r\n       (navigator.maxTouchPoints > 0) ||\r\n       (navigator.msMaxTouchPoints > 0))\r\n}\r\n\r\nexport {isTouchDevice}","const reportWebVitals = onPerfEntry => {\r\n  if (onPerfEntry && onPerfEntry instanceof Function) {\r\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\r\n      getCLS(onPerfEntry);\r\n      getFID(onPerfEntry);\r\n      getFCP(onPerfEntry);\r\n      getLCP(onPerfEntry);\r\n      getTTFB(onPerfEntry);\r\n    });\r\n  }\r\n};\r\n\r\nexport default reportWebVitals;\r\n","import './css/style.css'\r\nimport './css/media.css'\r\nimport React from 'react'\r\nimport ReactDOM from 'react-dom'\r\nimport Stage from './components/Stage'\r\nimport reportWebVitals from './reportWebVitals'\r\n\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n    <Stage />\r\n  </React.StrictMode>,\r\n  document.getElementById('root')\r\n)\r\n\r\n// If you want to start measuring performance in your app, pass a function\r\n// to log results (for example: reportWebVitals(console.log))\r\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\r\nreportWebVitals()\r\n"],"sourceRoot":""}