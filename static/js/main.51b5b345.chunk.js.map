{"version":3,"sources":["components/Landing.js","constants/constants.js","components/Placard.js","components/Sprite.js","components/Still.js","components/Buttons.js","constants/text.js","components/Popup.js","components/Stage.js","utils/utils.js","reportWebVitals.js","index.js"],"names":["Landing","props","create","load","createContainer","createTitle","createInstructions","add","addEventListener","window","resize","componentDidUpdate","prevProps","hasAddedToStage","state","stage","hasScrolled","loadedPercentage","setState","addClickInstructions","addLoading","addChild","container","addArrow","width","canvas","arrowEl","setTransform","height","image","arrowY","animateArrow","arrowHeight","fontSize","y","text","createjs","Text","set","x","font","lineWidth","textAlign","scaleX","removeChild","fill","bar","Tween","get","override","to","arrowTween","call","Container","setBounds","hasLoaded","createLoadingBar","scale","Shape","graphics","setStrokeStyle","beginStroke","drawRoundRectComplex","endStroke","beginLinearGradientFill","textContainer","handleLoad","data","Bitmap","target","Image","src","onload","removeLoading","removeAllTweens","React","Component","SPRITE_SHEETS","id","STILLS","PLACARDS","after","idx","MARGIN","TOTAL_ASSETS","length","Placard","transform","spriteEl","play","sprite","Sprite","result","loader","LoadQueue","manifest","type","crossOrigin","loadManifest","on","margin","w","h","rectWidth","toResize","isScreenSmall","cardHeight","yOffset","forEach","placard","i","split","Number","this","stop","addEventListeners","onClick","calculateYOffset","checkBounds","currentSprite","isHeightBiggerThanScreen","isPlaying","hasPlayed","queue","popup","check","currentFrame","spriteSheet","_frames","Ticker","removeEventListener","item","ev","force","gotoAndPlay","setCurrentSprite","scaleY","Still","debounce","func","timeout","wait","args","clearTimeout","setTimeout","apply","stillEl","Buttons","onButtonClick","setPopup","className","showButtons","TEXT","audrey","header","html","doris","hettie","about","video","Popup","close","renderClose","renderText","__html","which","dangerouslySetInnerHTML","Stage","componentWillUnmount","document","scroll","clearInterval","changeHue","onScroll","navigator","maxTouchPoints","msMaxTouchPoints","getElementById","onMouseUp","onMouseDown","calculateLowerBound","numOfSprites","numOfPlacards","lowerBound","assetTransform","sprites","placards","changeBackground","hue","setInterval","col1","Math","abs","col2","body","style","background","draw","update","isTouchDevice","onLoad","loadedElements","mouseY","touches","pageY","onMouseMove","deltaY","innerHeight","areButtonsShowing","Ease","sineOut","spriteTransform","Object","assign","setup","snapToPixelEnabled","snapToPixel","ctx","getContext","webkitImageSmoothingEnabled","mozImageSmoothingEnabled","imageSmoothingEnabled","Touch","enable","timingMode","RAF_SYNCHED","framerate","maintainScriptOrder","enableMouseOver","renderLanding","renderPlacard","renderPopup","renderSprite","loaded","renderStill","currentPos","innerWidth","map","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode"],"mappings":"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AASW,MAAM2B,kBACf,EAAKtE,kBACL,EAAKC,cACL,EAAKC,qBACL,EAAKiB,WACL,EAAKhB,OA7ML,EAAKO,MAAQ,CACTD,iBAAiB,GAHN,E,0CAkNnB,WACI,OAAO,S,GApNsB8D,IAAMC,WCFrCC,EAAgB,CAClB,CACIC,GAAI,SACJP,IAAK,8BAET,CACIO,GAAI,SACJP,IAAK,8BAET,CACIO,GAAI,SACJP,IAAK,8BAET,CACIO,GAAI,SACJP,IAAK,8BAET,CACIO,GAAI,SACJP,IAAK,8BAET,CACIO,GAAI,SACJP,IAAK,8BAET,CACIO,GAAI,SACJP,IAAK,8BAET,CACIO,GAAI,SACJP,IAAK,8BAET,CACIO,GAAI,UACJP,IAAK,gCAET,CACIO,GAAI,UACJP,IAAK,gCAET,CACIO,GAAI,UACJP,IAAK,gCAET,CACIO,GAAI,UACJP,IAAK,gCAET,CACIO,GAAI,UACJP,IAAK,gCAET,CACIO,GAAI,UACJP,IAAK,gCAET,CACIO,GAAI,UACJP,IAAK,gCAET,CACIO,GAAI,UACJP,IAAK,gCAET,CACIO,GAAI,UACJP,IAAK,gCAET,CACIO,GAAI,UACJP,IAAK,gCAET,CACIO,GAAI,UACJP,IAAK,gCAET,CACIO,GAAI,UACJP,IAAK,gCAET,CACIO,GAAI,UACJP,IAAK,gCAET,CACIO,GAAI,UACJP,IAAK,gCAET,CACIO,GAAI,UACJP,IAAK,gCAET,CACIO,GAAI,UACJP,IAAK,iCASPQ,EAAS,CACX,CACID,GAAI,SACJP,IAAK,uBAET,CACIO,GAAI,UACJP,IAAK,wBAET,CACIO,GAAI,UACJP,IAAK,wBAET,CACIO,GAAI,UACJP,IAAK,wBAET,CACIO,GAAI,UACJP,IAAK,wBAET,CACIO,GAAI,UACJP,IAAK,wBAET,CACIO,GAAI,UACJP,IAAK,wBAET,CACIO,GAAI,UACJP,IAAK,wBAET,CACIO,GAAI,UACJP,IAAK,wBAET,CACIO,GAAI,UACJP,IAAK,wBAET,CACIO,GAAI,UACJP,IAAK,wBAET,CACIO,GAAI,UACJP,IAAK,wBAET,CACIO,GAAI,UACJP,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","file":"static/js/main.51b5b345.chunk.js","sourcesContent":["import React from 'react'\r\nimport createjs from 'createjs-module'\r\n\r\nexport default class Landing extends React.Component {\r\n    constructor(props) {\r\n        super(props)\r\n        this.state = {\r\n            hasAddedToStage: false\r\n        }\r\n    }\r\n\r\n    create = () => {\r\n        this.load()\r\n        this.createContainer()\r\n        this.createTitle()\r\n        this.createInstructions()\r\n        this.add()\r\n        this.addEventListener()\r\n    }\r\n\r\n    addEventListener = () => {\r\n        window.addEventListener('resize', this.resize)\r\n    }\r\n\r\n    componentDidUpdate = prevProps => {\r\n        const { hasAddedToStage } = this.state\r\n        const { stage, hasScrolled, loadedPercentage } = this.props\r\n        if (stage && !hasAddedToStage) {\r\n            this.create()\r\n            this.setState({\r\n                hasAddedToStage: true\r\n            })\r\n        }\r\n        if (!prevProps.hasScrolled && hasScrolled) {\r\n            this.addClickInstructions()\r\n        }\r\n        if (loadedPercentage !== prevProps.loadedPercentage) {\r\n            this.addLoading()\r\n        }\r\n    }\r\n\r\n    add = () => {\r\n        const { stage } = this.props\r\n\r\n        stage.addChild(this.container)\r\n    }\r\n\r\n    addArrow = () => {\r\n        const { stage } = this.props\r\n        let width = stage.canvas.width / 15\r\n        this.arrowEl.setTransform(\r\n            stage.canvas.width / 2 - width / 2, \r\n            stage.canvas.height / 4 + stage.canvas.height / 2 + 10,\r\n            width / this.arrowEl.image.width,\r\n            width / this.arrowEl.image.width\r\n        )\r\n\r\n        this.arrowY = stage.canvas.height / 4 + stage.canvas.height / 2 + 10\r\n        this.container.addChild(this.arrowEl)\r\n        this.animateArrow()\r\n    }\r\n\r\n    addClickInstructions = () => {\r\n        const { stage } = this.props\r\n        let arrowHeight = stage.canvas.width / 15 + 10\r\n        let fontSize = stage.canvas.height / 20\r\n        let y = stage.canvas.height / 4 + stage.canvas.height / 2 + 20 + arrowHeight\r\n        let text = new createjs.Text().set({\r\n            text: 'CLICK TO REPLAY COMICS',\r\n            x: 0,\r\n            y,\r\n            font: `${fontSize}px custard, sans-serif`,\r\n            lineWidth: stage.canvas.width - 30\r\n        })\r\n        this.container.addChild(text)\r\n        text.x = stage.canvas.width / 2\r\n        text.textAlign = 'center'\r\n    }\r\n\r\n    addLoading = () => {\r\n        const { loadedPercentage } = this.props\r\n\r\n        let scaleX = loadedPercentage\r\n        if (scaleX >= 1) {\r\n            this.container.removeChild(this.fill)\r\n            this.container.removeChild(this.bar)\r\n            return\r\n        }\r\n\r\n        createjs.Tween\r\n            .get(this.fill, {override: true})\r\n            .to({\r\n                scaleX\r\n            }, 150)\r\n    }\r\n\r\n    animateArrow = () => {\r\n        this.arrowTween = createjs.Tween\r\n            .get(this.arrowEl)\r\n            .to({\r\n                y: this.arrowY - 10\r\n            }, 500)\r\n            .to({\r\n                y: this.arrowY + 10\r\n            }, 500)\r\n            .call(() => {\r\n                this.animateArrow()\r\n        })\r\n    }\r\n\r\n    createContainer = () => {\r\n        const { stage } = this.props\r\n\r\n        let container = new createjs.Container()\r\n        this.container = container\r\n        container.setBounds(0, 0, stage.canvas.width, stage.canvas.height)\r\n        if (!this.props.hasLoaded) {\r\n            let {bar, fill} = this.createLoadingBar()\r\n            container.addChild(bar)\r\n            container.addChild(fill)\r\n            this.fill = fill\r\n            this.bar = bar\r\n        }\r\n        this.setState({\r\n            scale: {x: stage.canvas.width, y: stage.canvas.height}\r\n        })\r\n    }\r\n\r\n    createInstructions = () => {\r\n        const { stage } = this.props\r\n\r\n        let fontSize = stage.canvas.height / 20\r\n        let text = new createjs.Text().set({\r\n            text: 'SCROLL',\r\n            x: 0,\r\n            y: stage.canvas.height / 5 + stage.canvas.height / 2,\r\n            font: `${fontSize}px custard, sans-serif`,\r\n            lineWidth: stage.canvas.width - 30\r\n        })\r\n        text.x = stage.canvas.width / 2\r\n        text.textAlign = 'center'\r\n        this.container.addChild(text)\r\n    }\r\n\r\n    createLoadingBar = () => {\r\n        const { stage } = this.props\r\n\r\n        let bar = new createjs.Shape()\r\n        let width = stage.canvas.width / 4\r\n        let y = stage.canvas.height / 2\r\n        bar.graphics.setStrokeStyle(3)\r\n            .beginStroke('black')\r\n            .drawRoundRectComplex((stage.canvas.width - width) / 2, y, width, 30, 5, 5, 5, 5)\r\n            .endStroke()\r\n\r\n        let fill = new createjs.Shape()\r\n            .set({\r\n                scaleX: 0,\r\n                x: (stage.canvas.width - width) / 2 + 1.5,\r\n                y: y + 1.5\r\n            })\r\n        fill.graphics\r\n            .beginLinearGradientFill([\"#4158D0\",\"#C850C0\", \"#FFCC70\"],  [0, .46, 1], 0, 100, 200, 300)\r\n            .drawRoundRectComplex(0, 0, width - 3, 27, 5, 5, 5, 5)\r\n\r\n        return {bar, fill}\r\n    }\r\n\r\n    createTitle = () => {\r\n        const { stage } = this.props\r\n\r\n        let textContainer = new createjs.Container()\r\n        let fontSize = stage.canvas.height / 10\r\n        let text = new createjs.Text().set({\r\n            text: 'THE CARYATID REVOLUTION',\r\n            x: 0,\r\n            y: 0,\r\n            font: `${fontSize}px custard, sans-serif`,\r\n            lineWidth: stage.canvas.width - 30\r\n        })\r\n        textContainer.addChild(text)\r\n        text.textAlign = 'center'\r\n        textContainer.x = stage.canvas.width / 2\r\n        textContainer.y = stage.canvas.height / 2 - stage.canvas.height / 5\r\n        this.container.addChild(textContainer)\r\n    }\r\n\r\n    handleLoad = data => {\r\n        this.arrowEl = new createjs.Bitmap(data.target, 'down-arrow')\r\n        this.addArrow()\r\n    }\r\n\r\n    load = () => {\r\n        let image = new Image()\r\n        image.src = './title/down-arrow.png'\r\n        image.onload = this.handleLoad\r\n    }\r\n\r\n    removeLoading = () => {\r\n        this.container.removeChild(this.fill)\r\n        this.container.removeChild(this.bar)\r\n    }\r\n\r\n    resize = () => {\r\n        this.props.stage.removeChild(this.container)\r\n        this.props.stage.removeChild(this.arrowEl)\r\n        createjs.Tween.removeAllTweens()        \r\n        this.createContainer()\r\n        this.createTitle()\r\n        this.createInstructions()\r\n        this.addArrow()\r\n        this.add()\r\n    }\r\n    \r\n    render() {\r\n        return null\r\n    }\r\n}","\r\nconst SPRITE_SHEETS = [\r\n    {\r\n        id: 'CARD_1',\r\n        src: './sprites/card1/card1.json'\r\n    },\r\n    {\r\n        id: 'CARD_2',\r\n        src: './sprites/card2/card2.json'\r\n    },\r\n    {\r\n        id: 'CARD_3',\r\n        src: './sprites/card3/card3.json'\r\n    },\r\n    {\r\n        id: 'CARD_4',\r\n        src: './sprites/card4/card4.json'\r\n    },\r\n    {\r\n        id: 'CARD_5',\r\n        src: './sprites/card5/card5.json'\r\n    },\r\n    {\r\n        id: 'CARD_6',\r\n        src: './sprites/card6/card6.json'\r\n    },\r\n    {\r\n        id: 'CARD_7',\r\n        src: './sprites/card7/card7.json'\r\n    },\r\n    {\r\n        id: 'CARD_9',\r\n        src: './sprites/card9/card9.json'\r\n    },\r\n    {\r\n        id: 'CARD_10',\r\n        src: './sprites/card10/card12.json'\r\n    },\r\n    {\r\n        id: 'CARD_12',\r\n        src: './sprites/card12/card12.json'\r\n    },\r\n    {\r\n        id: 'CARD_19',\r\n        src: './sprites/card20/card20.json'\r\n    },\r\n    {\r\n        id: 'CARD_21',\r\n        src: './sprites/card22/card22.json'\r\n    },\r\n    {\r\n        id: 'CARD_25',\r\n        src: './sprites/card26/card26.json'\r\n    },\r\n    {\r\n        id: 'CARD_27',\r\n        src: './sprites/card28/card28.json'\r\n    },\r\n    {\r\n        id: 'CARD_28',\r\n        src: './sprites/card29/card29.json'\r\n    },\r\n    {\r\n        id: 'CARD_29',\r\n        src: './sprites/card30/card30.json'\r\n    },\r\n    {\r\n        id: 'CARD_31',\r\n        src: './sprites/card32/card32.json'\r\n    },\r\n    {\r\n        id: 'CARD_33',\r\n        src: './sprites/card34/card34.json'\r\n    },\r\n    {\r\n        id: 'CARD_35',\r\n        src: './sprites/card36/card36.json'\r\n    },\r\n    {\r\n        id: 'CARD_36',\r\n        src: './sprites/card37/card37.json'\r\n    },\r\n    {\r\n        id: 'CARD_37',\r\n        src: './sprites/card38/card38.json'\r\n    },\r\n    {\r\n        id: 'CARD_38',\r\n        src: './sprites/card39/card39.json'\r\n    },\r\n    {\r\n        id: 'CARD_40',\r\n        src: './sprites/card41/card41.json'\r\n    },\r\n    {\r\n        id: 'CARD_41',\r\n        src: './sprites/card42/card42.json'\r\n    }\r\n]\r\n\r\nconst TYPES = {\r\n    CARD: 'CARD',\r\n    PLACARD: 'PLACARD'\r\n}\r\n\r\nconst STILLS = [\r\n    {\r\n        id: 'CARD_8',\r\n        src: './stills/Still8.png'\r\n    },\r\n    {\r\n        id: 'CARD_11',\r\n        src: './stills/Still11.png'\r\n    },\r\n    {\r\n        id: 'CARD_13',\r\n        src: './stills/Still13.png'\r\n    },\r\n    {\r\n        id: 'CARD_14',\r\n        src: './stills/Still14.png'\r\n    },\r\n    {\r\n        id: 'CARD_15',\r\n        src: './stills/Still15.png'\r\n    },\r\n    {\r\n        id: 'CARD_16',\r\n        src: './stills/Still16.png'\r\n    },\r\n    {\r\n        id: 'CARD_17',\r\n        src: './stills/Still17.png'\r\n    },\r\n    {\r\n        id: 'CARD_18',\r\n        src: './stills/Still19.png'\r\n    },\r\n    {\r\n        id: 'CARD_20',\r\n        src: './stills/Still21.png'\r\n    },\r\n    {\r\n        id: 'CARD_22',\r\n        src: './stills/Still23.png'\r\n    },\r\n    {\r\n        id: 'CARD_23',\r\n        src: './stills/Still24.png'\r\n    },\r\n    {\r\n        id: 'CARD_24',\r\n        src: './stills/Still25.png'\r\n    },\r\n    {\r\n        id: 'CARD_26',\r\n        src: './stills/Still27.png'\r\n    },\r\n    {\r\n        id: 'CARD_30',\r\n        src: './stills/Still31.png'\r\n    },\r\n    {\r\n        id: 'CARD_32',\r\n        src: './stills/Still33.png'\r\n    },\r\n    {\r\n        id: 'CARD_34',\r\n        src: './stills/Still35.png'\r\n    },\r\n    {\r\n        id: 'CARD_39',\r\n        src: './stills/Still40.png'\r\n    },\r\n    {\r\n        id: 'CARD_42',\r\n        src: './stills/Still43.png'\r\n    }\r\n]\r\n\r\nconst PLACARDS = [\r\n    {\r\n        id: 'PLACARD_1',\r\n        src: './placards/placard1/card9.json',\r\n        after: {\r\n            idx: 8\r\n        }\r\n    },\r\n    {\r\n        id: 'PLACARD_2',\r\n        src: './placards/placard2/card10.json',\r\n        after: {\r\n            idx: 8\r\n        }\r\n    },\r\n    {\r\n        id: 'PLACARD_3',\r\n        src: './placards/placard3/placard3.json',\r\n        after: {\r\n            idx: 33\r\n        }\r\n    }\r\n]\r\n\r\nconst ORIGINAL_SIZE = {\r\n    STILLS: {\r\n        h: 480,\r\n        w: 1440\r\n    },\r\n    STAGE: {\r\n        w: 640,\r\n        h: 480\r\n    }\r\n}\r\n\r\nconst MARGIN = {\r\n    x: 20,\r\n    y: 30\r\n}\r\n\r\nconst POPUPS = {\r\n    AUDREY: 'audrey',\r\n    HETTIE: 'hettie',\r\n    DORIS: 'doris',\r\n    ABOUT: 'about',\r\n    VIDEO: 'video'\r\n}\r\n\r\nconst FRAMERATE = 15\r\n\r\nconst TOTAL_ASSETS = SPRITE_SHEETS.length + PLACARDS.length + STILLS.length\r\n\r\nconst FIRST_SPRITE = 'CARD_1'\r\nconst FIRST_PLACARD = 'PLACARD_1'\r\n\r\nexport {ORIGINAL_SIZE, POPUPS, FIRST_SPRITE, FIRST_PLACARD, FRAMERATE, MARGIN, PLACARDS, STILLS, SPRITE_SHEETS, TYPES, TOTAL_ASSETS}","import React from 'react'\r\nimport createjs from 'createjs-module'\r\nimport { PLACARDS, FIRST_PLACARD, MARGIN } from '../constants/constants'\r\n\r\nexport default class Placard extends React.Component {\r\n    constructor(props) {\r\n        super(props)\r\n        let i = props.id.split('_')\r\n        this.state = {\r\n            idx: Number(i[i.length - 1]) - 1,\r\n            transform: {\r\n                x: 0,\r\n                y: 0,\r\n                w: 0,\r\n                h: 0\r\n            }\r\n        }\r\n    }\r\n\r\n    add = () => {\r\n        const { stage } = this.props;\r\n        this.transform()\r\n        this.addEventListener()\r\n        stage.addChild(this.spriteEl)\r\n        this.play()\r\n    }\r\n\r\n    addEventListener = () => {\r\n        window.addEventListener('resize', this.transform)\r\n    }\r\n\r\n    componentDidMount() {\r\n        this.load()\r\n    }\r\n\r\n    handleLoad = sprite => {\r\n        const { handleLoad, id } = this.props\r\n        this.spriteEl = new createjs.Sprite(sprite.result, this.id)\r\n        handleLoad(id)\r\n        this.add()\r\n    }\r\n\r\n    load = () => {\r\n        const { src, id } = this.props;\r\n\r\n        let loader = new createjs.LoadQueue(false)\r\n        let manifest = {\r\n            src: src,\r\n            id: id,\r\n            type: 'spritesheet',\r\n            crossOrigin: true\r\n        }\r\n        loader.loadManifest(manifest, true)\r\n        loader.on(\"fileload\", this.handleLoad)\r\n    }\r\n\r\n    play = () => {\r\n        this.spriteEl.play()\r\n    }\r\n\r\n    transform = () => {\r\n        const { stage, after, id, setTransform } = this.props;\r\n        let margin = stage.canvas.width / 10 < MARGIN.x ? MARGIN.x : stage.canvas.width / 10\r\n        let transform = {x: 0, y: 0, w: 0, h: 0}\r\n        let rectWidth = 1440\r\n        let rectHeight = 200\r\n        let toResize = rectWidth + MARGIN.y * 2 > stage.canvas.width\r\n        let isScreenSmall = stage.canvas.width <= 600\r\n        transform.w = toResize ? stage.canvas.width - margin : rectWidth\r\n        transform.w = isScreenSmall ? stage.canvas.width : transform.w\r\n        transform.h = (rectHeight / rectWidth) * transform.w\r\n        transform.x = (stage.canvas.width - transform.w) / 2\r\n        transform.x = isScreenSmall ? 0 : transform.x\r\n        let cardHeight = transform.h * 2.4\r\n        let yOffset = after.idx * cardHeight + (after.idx + 1) * MARGIN.y * 2\r\n        PLACARDS.forEach(placard => {\r\n            let i = placard.id.split('_')\r\n            let idx = Number(i[i.length - 1]) - 1\r\n            if (this.state.idx > idx) {\r\n                yOffset += transform.h + MARGIN.y * 2\r\n            }\r\n        })\r\n        transform.y = yOffset + stage.canvas.height\r\n        let scale = transform.w / rectWidth\r\n        this.spriteEl.setTransform(transform.x, transform.y, scale, scale)\r\n        this.setState({\r\n            transform\r\n        })\r\n        if (id === FIRST_PLACARD) {\r\n            setTransform(transform, 'placards')\r\n        }\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <div></div>\r\n        )\r\n    }\r\n}","import React from 'react'\r\nimport createjs from 'createjs-module'\r\n\r\nimport {FIRST_SPRITE, MARGIN, PLACARDS} from '../constants/constants'\r\n\r\nexport default class Sprite extends React.Component {\r\n    constructor(props) {\r\n        super(props)\r\n        let i = props.id.split('_')\r\n        this.state = {\r\n            idx: Number(i[i.length - 1]) - 1,\r\n            transform: {\r\n                x: 0,\r\n                y: 0,\r\n                w: 0,\r\n                h: 0\r\n            }\r\n        }\r\n    }\r\n\r\n    add = () => {\r\n        this.transform()\r\n        this.stop()\r\n        this.addEventListeners()\r\n        this.props.stage.addChild(this.spriteEl)\r\n    }\r\n\r\n    addEventListeners = () => {\r\n        this.spriteEl.addEventListener('click', this.onClick)\r\n        window.addEventListener('resize', this.transform)\r\n    }\r\n\r\n    calculateYOffset = height => {\r\n        let yOffset = 0\r\n        PLACARDS.forEach(placard => {\r\n            let idx = placard.after.idx\r\n            if (this.state.idx >= idx) {\r\n                yOffset += height * 5 / 12 + MARGIN.y * 2\r\n            }\r\n        })\r\n        return yOffset\r\n    }\r\n\r\n    checkBounds = () => {\r\n        // if (this.props.currentSprite) return\r\n        // Use const for state declarations, since they should never be changed by assigning a new value ( setState )\r\n        // A good practice is declaring all props the same way you do with the state. Clears up the code and you do not have to repeat this.props... \r\n        const { transform } = this.state\r\n        const { stage, y, currentSprite } = this.props\r\n        let isHeightBiggerThanScreen = transform.h > stage.canvas.height\r\n        if (this.state.isPlaying) {\r\n            if (isHeightBiggerThanScreen) {\r\n                if (-y < transform.y && -y > transform.y + transform.h) {\r\n                    this.stop()\r\n                }\r\n            } else if (transform.y < -y || transform.y + transform.h > -y + stage.canvas.height) {\r\n                this.stop()\r\n            }\r\n        } else {\r\n            if (!transform || this.state.hasPlayed || currentSprite) return\r\n            if (isHeightBiggerThanScreen && -y < transform.y && -y > transform.y + transform.h) {\r\n                this.play()\r\n            } else if (transform.y > -y && transform.y + transform.h < -y + stage.canvas.height) {\r\n                this.play()\r\n            }\r\n        }\r\n    }\r\n\r\n    componentDidUpdate = prevProps => {\r\n\r\n        if (!prevProps.queue && this.props.queue) {\r\n            this.load()\r\n        }\r\n\r\n        if (!prevProps.popup && this.props.popup && this.state.isPlaying) {\r\n            this.stop()\r\n        }\r\n\r\n        if (prevProps.y !== this.props.y) {\r\n            // Check if out of bounds\r\n            this.checkBounds()\r\n        }\r\n    }\r\n\r\n    check = () => {\r\n        let hasFinished = this.spriteEl.currentFrame === this.spriteEl.spriteSheet._frames.length - 1\r\n        if (hasFinished) {\r\n            this.stop()\r\n            this.setState({\r\n                hasPlayed: true\r\n            })\r\n            createjs.Ticker.removeEventListener('tick', this.check)\r\n        }\r\n    }\r\n\r\n    handleLoad = sprite => {\r\n        if (sprite.item.id === this.props.id) {\r\n            this.spriteEl = new createjs.Sprite(sprite.result, this.id)\r\n            this.props.handleLoad(this.props.id, 'sprites')\r\n            this.add()\r\n        }\r\n\r\n        // this.add()\r\n    }\r\n\r\n    load = () => {\r\n        let manifest = {\r\n            src: this.props.src,\r\n            id: this.props.id,\r\n            type: 'spritesheet',\r\n            crossOrigin: true\r\n        }\r\n        this.props.queue.loadManifest(manifest, true)\r\n        this.props.queue.on(\"fileload\", this.handleLoad)\r\n    }\r\n\r\n    onClick = ev => {\r\n        if (!this.spriteEl) return\r\n        if (this.state.hasPlayed) {\r\n            this.play(true)\r\n        }\r\n    }\r\n\r\n    play = force => {\r\n        if (!this.spriteEl) return\r\n\r\n        if (this.state.hasPlayed) {\r\n            this.spriteEl.gotoAndPlay(0)\r\n            this.setState({\r\n                hasPlayed: false\r\n            })\r\n        } else {\r\n            this.setState({\r\n                isPlaying: true\r\n            })\r\n            this.spriteEl.play()\r\n        }\r\n        createjs.Ticker.addEventListener('tick', this.check)\r\n        this.props.setCurrentSprite(this.props.id)\r\n    }\r\n\r\n    stop = force => {\r\n        if (!force) {\r\n            this.props.setCurrentSprite(null)\r\n        }\r\n        this.spriteEl.stop()\r\n        this.setState({\r\n            isPlaying: false\r\n        })\r\n    }\r\n\r\n    transform = () => {\r\n        // Using window dimensions like this is considered a bad practice. Since they already are used for our canvas we can take them from there.\r\n        // I did this change whereever possible.\r\n        // Also even if you have to use them I would recommend that you save them in a variable and reuse that everywhere\r\n        // Here you had them saved but there were still checks with window.innerWidth which causes a browser reflow and can slow down the page\r\n        const { stage, id, setTransform } = this.props;\r\n        let margin = stage.canvas.width / 10 < MARGIN.x ? MARGIN.x : stage.canvas.width / 10\r\n        let transform = {x: 0, y: 0, w: 0, h: 0}\r\n        let rectWidth = 1440\r\n        let rectHeight = 480\r\n        let toResize = rectWidth + MARGIN.y * 2 > stage.canvas.width\r\n        let isScreenSmall = stage.canvas.width <= 600\r\n\r\n        transform.w = toResize ? stage.canvas.width - margin : rectWidth\r\n        transform.w = isScreenSmall ? stage.canvas.width : transform.w\r\n        transform.h = (rectHeight / rectWidth) * transform.w\r\n        transform.x = (stage.canvas.width - transform.w) / 2\r\n        transform.x = isScreenSmall ? 0 : transform.x\r\n        transform.y = stage.canvas.height + transform.h * this.state.idx + MARGIN.y * 2 * (this.state.idx + 1)\r\n        transform.y += this.calculateYOffset(transform.h)\r\n        let scale = transform.w / rectWidth\r\n        this.spriteEl.scaleX = scale\r\n        this.spriteEl.scaleY = scale\r\n        this.spriteEl.x = transform.x\r\n        this.spriteEl.y = transform.y\r\n        this.setState({\r\n            transform\r\n        })\r\n        if (id === FIRST_SPRITE) {\r\n            setTransform(transform, 'sprites')\r\n        }\r\n    }\r\n\r\n    render() {\r\n        return null\r\n    }\r\n}","import React from 'react'\r\nimport createjs from 'createjs-module'\r\nimport {PLACARDS, MARGIN} from '../constants/constants'\r\n\r\nexport default class Still extends React.Component {\r\n    constructor(props) {\r\n        super(props)\r\n        let i = props.id.split('_')\r\n        this.state = {\r\n            idx: Number(i[i.length - 1]) - 1,\r\n            transform: {\r\n                x: 0,\r\n                y: 0,\r\n                w: 0,\r\n                h: 0\r\n            }\r\n        }\r\n    }\r\n\r\n    debounce = function(func, wait = 100) {\r\n        let timeout;\r\n        return function(...args) {\r\n          clearTimeout(timeout);\r\n          timeout = setTimeout(() => {\r\n            func.apply(this, args);\r\n          }, wait);\r\n        };\r\n      }\r\n\r\n    addEventListener = () => {\r\n        // It is a good practice to have resize callbacks debounced. It is not a huge issue here but since there are calculations in the transform function, \r\n        // not debouncing the function might fill the browser memmory since it will fire constantly until the resize stops\r\n        window.addEventListener('resize', this.debounce(this.transform, 100))\r\n    }\r\n\r\n    add = () => {\r\n        const { stage } = this.props\r\n\r\n        this.transform()\r\n        stage.addChild(this.stillEl)\r\n    }\r\n\r\n    calculateYOffset = height => {\r\n        let yOffset = 0\r\n        PLACARDS.forEach(placard => {\r\n            let idx = placard.after.idx\r\n            if (this.state.idx >= idx) {\r\n                yOffset += height * 5 / 12 + MARGIN.y * 2\r\n            }\r\n        })\r\n        return yOffset\r\n    }\r\n\r\n    componentDidMount() {\r\n        this.load()\r\n    }\r\n\r\n    handleLoad = data => {\r\n        const { handleLoad, id } = this.props\r\n        this.stillEl = new createjs.Bitmap(data.target, id)\r\n        handleLoad(id, 'stills')\r\n        this.add()\r\n        this.addEventListener()\r\n    }\r\n\r\n    load = () => {\r\n        let image = new Image()\r\n        image.src = this.props.src\r\n        image.onload = this.handleLoad\r\n    }\r\n\r\n    transform = () => {\r\n        const { idx } = this.state\r\n        const { stage } = this.props\r\n        let margin = stage.canvas.width / 10 < MARGIN.x ? MARGIN.x : stage.canvas.width / 10\r\n        let transform = {x: 0, y: 0, w: 0, h: 0}\r\n        let rectWidth = 1440\r\n        let rectHeight = 480\r\n        let toResize = rectWidth + MARGIN.y * 2 > stage.canvas.width\r\n        let isScreenSmall = stage.canvas.width <= 600\r\n\r\n        transform.w = toResize ? stage.canvas.width - margin : rectWidth\r\n        transform.w = isScreenSmall ? stage.canvas.width : transform.w\r\n        transform.h = (rectHeight / rectWidth) * transform.w\r\n        transform.x = (stage.canvas.width - transform.w) / 2\r\n        transform.x = isScreenSmall ? 0 : transform.x\r\n        transform.y = stage.canvas.height + transform.h * idx + MARGIN.y * 2 * (idx + 1)\r\n        transform.y += this.calculateYOffset(transform.h)\r\n        let scale = transform.w / rectWidth\r\n        this.stillEl.scaleX = scale\r\n        this.stillEl.scaleY = scale\r\n        this.stillEl.x = transform.x\r\n        this.stillEl.y = transform.y\r\n        this.setState({\r\n            transform\r\n        })\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <div></div>\r\n        )\r\n    }\r\n}\r\n","import React from \"react\";\r\n\r\nexport default class Buttons extends React.Component {\r\n    constructor(props) {\r\n        super(props)\r\n    }\r\n\r\n    onButtonClick = ev => {\r\n        this.props.setPopup(ev.target.id)\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <div className={`buttons ${this.props.showButtons ? 'visible' : 'hidden'}`}>\r\n                <div id=\"buttons-container\" className=\"buttons-container\">\r\n                    <div id=\"audrey\" className=\"button\" onClick={this.onButtonClick}>AUDREY</div>\r\n                    <div id=\"doris\" className=\"button\" onClick={this.onButtonClick}>DORIS</div>\r\n                    <div id=\"hettie\" className=\"button\" onClick={this.onButtonClick}>HETTIE</div>\r\n                </div>\r\n                <div id=\"bottom-buttons-container\" className=\"bottom-button-container\">\r\n                    <div id=\"about\" className=\"button\" onClick={this.onButtonClick}>ABOUT</div>\r\n                    <div id=\"video\" className=\"button\" onClick={this.onButtonClick}>THE VIDEO</div>\r\n                </div>\r\n            </div>\r\n        )\r\n    }\r\n}\r\n","const AUDREY_TEXT = {\r\n    header:  'AUDREY',\r\n    html: `\r\n    <div>\r\n        Born on June 8, 1891 in Rochester, NY, Audrey Munson was catapulted from a young age to fame, which according to her mother, was her destiny forecasted as a young child. At five-years-old, Audrey’s mother, Katherine Mahaney, took her daughter to see Gypsy Queen Eliza who was visiting from England. Eliza looked at Audrey and predicted:\r\n    </div>\r\n    <div class=\"quote\">\r\n        “You shall be beloved and famous. But when you think that happiness is yours, its Dead Sea fruit shall turn to ashes in your mouth.”\r\n    </div>\r\n    `\r\n}\r\n\r\nconst DORIS_TEXT = {\r\n    header:  'DORIS',\r\n    html: `\r\n        <div></div>\r\n    `\r\n}\r\n\r\nconst HETTIE_TEXT = {\r\n    header:  'HETTIE',\r\n    html: `\r\n        <div></div>\r\n    `\r\n}\r\n\r\nconst ABOUT_TEXT = {\r\n    header: 'ABOUT',\r\n    html: `\r\n    <div>\r\n        In New York City, there are only five monuments of named women but hundreds of anonymous ones such as caryatids, architectural columns in the form of feminine bodies. The male monument is allowed individuality while her body is an allegory, inexpressible and unable to exist independently as flesh and blood. Looking for the original women behind the sculptures, I found Audrey Munson, Hettie Anderson, and Doris Doscher, three models who posed for many of the unnamed sculptures found in New York and across the United States. <br><br>\r\n\r\n        <i>The Caryatid Rebellion</i> is an interactive comic and 7-minute video experience based on Hettie, Audrey, and Doris and their uprising against the buildings and institutions they have been forced to carry. With music by Violet June of Machine+, the experience begins with the caryatids’ current state, holding up buildings and institutions that continue to exclude and oppress, and documents their eventual rebellion and reclamation of the built world. Creating this world also involved my own process of rebellion by 3D modeling Korean architecture and designing avatars that looked more like me and other people of color, subverting the encoded white standards of beauty in Neoclassical architecture.\r\n    </div>\r\n\r\n    <h1>CREDITS</h1>\r\n    `\r\n}\r\n\r\nconst VIDEO_TEXT = {\r\n    header: 'WATCH THE REBELLION',\r\n    html: `\r\n    <iframe src=\"https://player.vimeo.com/video/541132130\" width=\"640\" height=\"360\" frameborder=\"0\" allow=\"autoplay; fullscreen; picture-in-picture\" allowfullscreen></iframe>\r\n    `\r\n}\r\n\r\nconst TEXT = {\r\n    audrey: AUDREY_TEXT,\r\n    doris: DORIS_TEXT,\r\n    hettie: HETTIE_TEXT,\r\n    about: ABOUT_TEXT,\r\n    video: VIDEO_TEXT\r\n}\r\n\r\nexport default TEXT","import React from \"react\"\r\n\r\nimport TEXT from '../constants/text'\r\n\r\nexport default class Popup extends React.Component {\r\n    constructor(props) {\r\n        super(props)\r\n    }\r\n\r\n    close = () => {\r\n        this.props.setPopup(null)\r\n    }\r\n    renderClose = () => (\r\n        <div className=\"close-container\">\r\n            <div \r\n                onClick={this.close}\r\n                className=\"close\"></div>\r\n        </div>\r\n    )\r\n\r\n    renderText = () => (\r\n        {\r\n            __html: TEXT[this.props.which].html\r\n        }\r\n    )\r\n\r\n    render() {\r\n        return (\r\n            <div className=\"popup-container visible\">\r\n                {this.renderClose()}\r\n                <div className=\"text\">\r\n                    <h1>{TEXT[this.props.which].header}</h1>\r\n                </div>\r\n                <div className=\"description\">\r\n                    <div dangerouslySetInnerHTML={this.renderText()} />\r\n                </div>\r\n            </div>\r\n        )\r\n    }\r\n}\r\n","import React from 'react'\r\nimport createjs from 'createjs-module'\r\n\r\nimport Landing from './Landing'\r\nimport Placard from './Placard'\r\nimport Sprite from './Sprite'\r\nimport Still from './Still'\r\nimport Buttons from './Buttons'\r\nimport {FRAMERATE, SPRITE_SHEETS, TOTAL_ASSETS, MARGIN, STILLS, PLACARDS, POPUPS} from '../constants/constants'\r\nimport Popup from './Popup'\r\n\r\nimport {isTouchDevice} from '../utils/utils'\r\n\r\nwindow.createjs = createjs\r\n\r\nclass Stage extends React.Component {\r\n  constructor(props) {\r\n    super(props)\r\n    this.state = {\r\n      areButtonsShowing: false,\r\n      assetTransform: {sprites: {}, placards: {}},\r\n      currentSprite: null,\r\n      hasLoaded: false,\r\n      hasScrolled: false,\r\n      y: 0,\r\n      mouseY: 0,\r\n      isTouchDevice: false,\r\n      popup: null,\r\n      lowerBound: 0,\r\n      loadedElements: 0,\r\n      loaded: {sprites: 0, placards: 0}\r\n    }\r\n  }\r\n\r\n  componentDidMount() {\r\n    this.setState({\r\n      isTouchDevice: this.isTouchDevice()\r\n    })\r\n    this.setup()\r\n    this.addEventListeners()\r\n    this.changeBackground()\r\n  }\r\n\r\n  componentWillUnmount = () => {\r\n    document.removeEventListener('wheel', this.scroll)\r\n    window.removeEventListener('resize', this.resize)\r\n    clearInterval(this.changeHue)\r\n  }\r\n\r\n  addEventListeners = () => {\r\n    document.addEventListener('wheel', this.onScroll)\r\n    if (isTouchDevice()) {\r\n      document.getElementById('canvas').addEventListener('touchend', this.onMouseUp)\r\n      document.getElementById('canvas').addEventListener('touchstart', this.onMouseDown)  \r\n    }\r\n    window.addEventListener('resize', this.resize)\r\n  }\r\n\r\n  calculateLowerBound = () => {\r\n    let numOfSprites = SPRITE_SHEETS.length + STILLS.length\r\n    let numOfPlacards = PLACARDS.length\r\n    let lowerBound = numOfSprites * this.state.assetTransform.sprites.h + numOfPlacards * this.state.assetTransform.placards.h\r\n    lowerBound += TOTAL_ASSETS * MARGIN.y * 2 + MARGIN.y * 4\r\n    this.setState({\r\n      lowerBound\r\n    })\r\n    return lowerBound\r\n  }\r\n\r\n  changeBackground = () => {\r\n    let hue = 360\r\n\r\n    let changeHue = () => {\r\n        var col1 = Math.abs((hue % 720) - 360)\r\n        var col2 = Math.abs(((hue+90) % 720) - 360)\r\n        hue++\r\n\r\n        document.body.style.background = 'linear-gradient(to right, hsl(' + col1 + ',70%, 75%) 0%,hsl(' + col2 + ',90%,75%) 100%)'\r\n    }\r\n\r\n    this.changeHue = setInterval(changeHue, 64)\r\n  }\r\n\r\n  draw = () => {\r\n    this.stage.update()\r\n  }\r\n\r\n  isTouchDevice = () => {\r\n    return (('ontouchstart' in window) ||\r\n      (navigator.maxTouchPoints > 0) ||\r\n      (navigator.msMaxTouchPoints > 0))\r\n  }\r\n\r\n  onLoad = () => {\r\n    let hasLoaded = this.state.loadedElements + 1 === TOTAL_ASSETS\r\n\r\n    this.setState({\r\n      loadedElements: this.state.loadedElements + 1,\r\n      hasLoaded,\r\n      // loaded: Object.assign({}, {[type]: [...this.state.loaded[type], id]}, this.state.loaded)\r\n    })\r\n\r\n    if (hasLoaded) {\r\n      this.calculateLowerBound()\r\n    }\r\n  }\r\n\r\n  onMouseDown = ev => {\r\n    // Touch events are deeper into the event object, the only thing wrong was that using ev.pageY returned undefined and the scroll function was getting NaN passed\r\n    this.setState({\r\n      mouseY: ev.touches[0].pageY\r\n    })\r\n\r\n    document.getElementById('canvas').addEventListener('touchmove', this.onMouseMove)\r\n\r\n  }\r\n\r\n  onMouseMove = ev => {\r\n    this.scroll(this.state.y + (ev.touches[0].pageY - this.state.mouseY) / 40)\r\n  }\r\n\r\n  onMouseUp = ev => {\r\n    document.getElementById('canvas').removeEventListener('touchmove', this.onMouseMove)\r\n  }\r\n\r\n  onScroll = ev => {\r\n    let y  = this.state.y - ev.deltaY\r\n    this.scroll(y)\r\n  }\r\n\r\n  scroll = y => {\r\n    if (this.state.popup) return\r\n\r\n    if (Math.abs(y) > window.innerHeight && !this.state.areButtonsShowing) {\r\n      this.setState({\r\n        areButtonsShowing: true\r\n      })\r\n    } else if (Math.abs(this.state.y) < window.innerHeight && this.state.areButtonsShowing) {\r\n      // Hide buttons\r\n      this.setState({\r\n        areButtonsShowing: false\r\n      })\r\n    }\r\n\r\n    if (y > 0) {\r\n        return\r\n    }\r\n\r\n    if (-y > this.state.lowerBound && this.state.lowerBound) {\r\n        return\r\n    }\r\n    \r\n    this.setState({\r\n      hasScrolled: true,\r\n      y\r\n    })\r\n\r\n    createjs.Tween.get(this.stage, {override: true}).to({\r\n        y\r\n    }, 100, createjs.Ease.sineOut)\r\n  }\r\n\r\n  setCurrentSprite = currentSprite => {\r\n    this.setState({\r\n      currentSprite\r\n    })\r\n  }\r\n\r\n  setTransform = (spriteTransform, type) => {\r\n    this.setState({\r\n      assetTransform: Object.assign({}, this.state.assetTransform, {[type]: spriteTransform})\r\n    })\r\n  }\r\n\r\n  setup = () => {\r\n    this.stage = new createjs.Stage('canvas')\r\n    this.stage.snapToPixelEnabled = true\r\n    this.stage.snapToPixel = true\r\n    let ctx = this.stage.canvas.getContext('2d')\r\n    ctx.webkitImageSmoothingEnabled = ctx.mozImageSmoothingEnabled = ctx.imageSmoothingEnabled = true\r\n    createjs.Touch.enable(this.stage)\r\n\r\n    this.resize()\r\n\r\n    // Ticker\r\n    createjs.Ticker.timingMode = createjs.Ticker.RAF_SYNCHED\r\n    createjs.Ticker.framerate = FRAMERATE\r\n    createjs.Ticker.on('tick', this.draw)\r\n    \r\n    this.queue = new createjs.LoadQueue(true)\r\n    this.queue.maintainScriptOrder = true\r\n\r\n    this.stage.enableMouseOver(20)\r\n  }\r\n\r\n  renderLanding = () => (\r\n    <Landing\r\n      stage={this.stage}\r\n      loadedPercentage={this.state.loadedElements / TOTAL_ASSETS}\r\n      hasScrolled={this.state.hasScrolled}\r\n    />\r\n  )\r\n\r\n  renderPlacard = ({id, src, after}) => {\r\n    return <Placard \r\n      key={id}\r\n      id={id} \r\n      stage={this.stage}\r\n      handleLoad={this.onLoad}\r\n      setTransform={this.setTransform}\r\n      src={src}\r\n      after={after}\r\n    />\r\n  }\r\n\r\n  renderPopup = () => (\r\n    <Popup\r\n      setPopup={this.setPopup}\r\n      which={this.state.popup}\r\n    />\r\n  )\r\n\r\n  renderSprite = ({id, src}) => {\r\n    return <Sprite \r\n      key={id}\r\n      id={id} \r\n      stage={this.stage}\r\n      handleLoad={this.onLoad}\r\n      setTransform={this.setTransform}\r\n      queue={this.queue}\r\n      src={src}\r\n      y={this.state.y}\r\n      popup={this.state.popup}\r\n      loaded={this.state.loaded}\r\n      setCurrentSprite={this.setCurrentSprite}\r\n      currentSprite={this.state.currentSprite}\r\n     />\r\n  }\r\n\r\n  renderStill = ({id, src}) => (\r\n    <Still \r\n      key={id}\r\n      id={id} \r\n      stage={this.stage}\r\n      handleLoad={this.onLoad}\r\n      src={src}\r\n     /> \r\n    )\r\n\r\n  resize = () => {\r\n    let currentPos = this.state.y / this.state.lowerBound\r\n    this.stage.canvas.width = window.innerWidth\r\n    this.stage.canvas.height = window.innerHeight\r\n     /* The issue with scaling was a tough one to crack. It is a canvas issue that browsers can't handle very well. Scaling an image distorts it. \r\n     What I did was using your mobile check, then if in mobile I overset the canvas width and height with a 5:9 but the window width is the same.\r\n     This ends up using a smaller scale for the sprites ~ 0.42 instead of 0.21. Your calculations were not wrong, but with the smaller scale down,\r\n     the image is not as distorted as it was. and still fits.\r\n     TLDR: The canvas becomes bigger than the screen but everything is still fit to the screen **/\r\n\r\n    if (window.innerWidth < 600) {\r\n      this.stage.canvas.width = 700\r\n      this.stage.canvas.height = 1260\r\n    }\r\n    if (this.state.hasLoaded) {\r\n      setTimeout(() => {\r\n        let lowerBound = this.calculateLowerBound()\r\n        let y = currentPos * lowerBound\r\n        this.scroll(y)\r\n      }, 100)\r\n    }\r\n  }\r\n\r\n  setPopup = popup => {\r\n    let areButtonsShowing = !popup\r\n    this.setState({\r\n      popup,\r\n      areButtonsShowing\r\n    })\r\n  }\r\n\r\n  render() {\r\n    const { popup, areButtonsShowing } = this.state\r\n    // Initially setting the canvas dimensions was causing a flicker for the first load after the browser calculated the dimensions.\r\n    return (\r\n      <div>\r\n        <canvas \r\n          id=\"canvas\" \r\n          className={`${popup ? 'blurred' : ''}`}\r\n          ></canvas>\r\n        <Buttons\r\n          showButtons={areButtonsShowing}\r\n          setPopup={this.setPopup}\r\n        />\r\n        {popup ? this.renderPopup() : null}\r\n        {this.renderLanding()}\r\n        {SPRITE_SHEETS.map(this.renderSprite)}\r\n        {STILLS.map(this.renderStill)}\r\n        {PLACARDS.map(this.renderPlacard)}\r\n      </div>\r\n    )\r\n  }\r\n}\r\nexport default Stage\r\n","function isTouchDevice() {\r\n    return (('ontouchstart' in window) ||\r\n       (navigator.maxTouchPoints > 0) ||\r\n       (navigator.msMaxTouchPoints > 0))\r\n}\r\n\r\nexport {isTouchDevice}","const reportWebVitals = onPerfEntry => {\r\n  if (onPerfEntry && onPerfEntry instanceof Function) {\r\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\r\n      getCLS(onPerfEntry);\r\n      getFID(onPerfEntry);\r\n      getFCP(onPerfEntry);\r\n      getLCP(onPerfEntry);\r\n      getTTFB(onPerfEntry);\r\n    });\r\n  }\r\n};\r\n\r\nexport default reportWebVitals;\r\n","import './css/style.css'\r\nimport './css/media.css'\r\nimport React from 'react'\r\nimport ReactDOM from 'react-dom'\r\nimport Stage from './components/Stage'\r\nimport reportWebVitals from './reportWebVitals'\r\n\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n    <Stage />\r\n  </React.StrictMode>,\r\n  document.getElementById('root')\r\n)\r\n\r\n// If you want to start measuring performance in your app, pass a function\r\n// to log results (for example: reportWebVitals(console.log))\r\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\r\nreportWebVitals()\r\n"],"sourceRoot":""}